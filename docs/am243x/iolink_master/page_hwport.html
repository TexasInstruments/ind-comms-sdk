<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>IO-Link Master: Hardware Port</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> IO-Link Master<span id="projectnumber">1.09.04</span></div></td>
         <td id="projectbrief" align="right"><img src=IOLinkLogoIcon.PNG /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_hwport.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Hardware Port </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sect_hwport_overview"></a>
Overview</h1>
<p>The hardware port is divided into general functions (<a class="el" href="group__group__iol__port__definition.html">IO-Link Port Definitions</a>) and Master specific functions (<a class="el" href="group__group__iolm__port__definition.html">IO-Link Master Port Definitions</a>). All functions need to be available. For details what the port functions need to do, see the detailed description of the specific functions.</p>
<p>For a minimal working system, the functions of <a class="el" href="page_hwport.html#sect_hwport_pl">Physical Layer</a> and <a class="el" href="page_hwport.html#sect_hwport_timer">Timer System</a> need to be ported. The other functions can be left as they are in the port template.</p>
<h1><a class="anchor" id="sect_hwport_pl"></a>
Physical Layer</h1>
<p>The following functions belong to the physical layer and are used to access the IO-Link Phy chips:</p>
<ul>
<li><a class="el" href="group__grp__api__port.html#ga865affd649eb1c84815ab7637370e162" title="Send wake-up pulse.">IOLM_Port_PL_eWakeUp</a></li>
<li><a class="el" href="group__grp__api__port.html#ga99b0043dd21e95f9e7e6b3c319f1b5d7" title="Set physical layer mode.">IOLM_Port_PL_vSetMode</a></li>
<li><a class="el" href="group__grp__api__port.html#ga583483ea6397e01bf9a0502d05524d4b" title="Prepare data exchange.">IOLM_Port_PL_vTransferPrepare</a></li>
<li><a class="el" href="group__grp__api__port.html#ga3c426594ce09a3fc95e3bbeab3b5dec2" title="Start frame transmission.">IOLM_Port_PL_vTransferTrig</a></li>
<li><a class="el" href="group__grp__api__port.html#ga7642bf9f1e7e996fb4c1a08dabd921a3" title="Set output pin value.">IOLM_Port_PL_vSetDO</a></li>
<li><a class="el" href="group__grp__api__port.html#ga5e6b41e27f9b16554a7cd23fa2eb1581" title="Get input pin value.">IOLM_Port_PL_boGetDI</a></li>
</ul>
<p>If a Device frame is received, the following function has to be called:</p><ul>
<li><a class="el" href="group__grp__api__port.html#ga672eff8888c365335698c7f57d1c5f8e" title="Data receive processing finished.">IOLM_API_PL_vTransferInd</a></li>
</ul>
<h1><a class="anchor" id="sect_hwport_timer"></a>
Timer System</h1>
<p>The following functions belong to the timer system and need to be ported:</p>
<ul>
<li><a class="el" href="group__grp__api__port.html#ga65eb361bc638770d50681bd9977cfedc" title="Get SysTick value.">IOLM_Port_s32SysTickVal</a></li>
<li><a class="el" href="group__grp__api__port.html#ga5048c43ab45f1f2bcf4571605f41f24b" title="Start port hardware timer.">IOLM_Port_vStartTimer</a></li>
</ul>
<p>If a timer expires, the following function has to be called:</p>
<ul>
<li><a class="el" href="group__grp__api__port.html#ga1602161a944a9a7f5b380466011c063b" title="Port timer expired.">IOLM_API_vTimerExpired</a></li>
</ul>
<h1><a class="anchor" id="sect_hwport_wake"></a>
Wake-up Flow</h1>
<p>The following image shows how the <a class="el" href="page_hwport.html#sect_hwport_pl">Physical Layer</a> and <a class="el" href="page_hwport.html#sect_hwport_timer">Timer System</a> functions are called during the wake-up procedure.</p>
<div class="image">
<img src="wakesequence.PNG" alt=""/>
<div class="caption">
Physical Port Wake-up Sequence</div></div>
 <h1><a class="anchor" id="sect_hwport_cycle"></a>
Cycle Flow</h1>
<p>The following image shows how the <a class="el" href="page_hwport.html#sect_hwport_pl">Physical Layer</a> and <a class="el" href="page_hwport.html#sect_hwport_timer">Timer System</a> functions are called during the cyclic operation. The position of <a class="el" href="group__grp__api__port.html#ga583483ea6397e01bf9a0502d05524d4b" title="Prepare data exchange.">IOLM_Port_PL_vTransferPrepare</a> can differ, depending on the setting of <a class="el" href="group__group__iolm__port__definition.html#gae23d2ef8bb9913cbdc8392343a0ef8a1" title="Process cyclic frames in IRQ context and not in Mainloop.">IOLM_IRQ_PROCESSING</a>. If this is enabled, the prepare is done with the timer interrupt during cycle start. If IRQ processing is disabled, it is done somewhere between Device receive and the start of the next cycle.</p>
<div class="image">
<img src="cyclesequence.PNG" alt=""/>
<div class="caption">
Cyclic Sequence</div></div>
 <h1><a class="anchor" id="sect_hwport_example"></a>
Example Code for Physical Layer</h1>
<p>Here are some basic example code snippets to implement the Master board specific functions for a communication interface between the stack and the lower level IO-Link driver.</p>
<h2><a class="anchor" id="sect_hwport_example_general"></a>
Basics</h2>
<p>These functions handle the basic communication with the physical layer.</p>
<div class="fragment"><div class="line"><span class="comment">// This function is called by the stack if the IO-Link mode has changed</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga99b0043dd21e95f9e7e6b3c319f1b5d7">IOLM_Port_PL_vSetMode</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#ga6e71b7775c2052aa5178dd6200b469c2">IOL_ETargetMode</a> eTargetMode_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack and tells the driver to trigger an </span></div>
<div class="line"><span class="comment">// IO-Link wakup request</span></div>
<div class="line"><a class="code" href="group__group__iolm__types.html#ga7781adaa90a1f786ae5aebb5c938d337">IOLM_EWakeupMode</a> <a class="code" href="group__grp__api__port.html#ga865affd649eb1c84815ab7637370e162">IOLM_Port_PL_eWakeUp</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__group__iolm__types.html#gga7781adaa90a1f786ae5aebb5c938d337a5c2cead9a17e2b6c70c6568d855a47dc">IOLM_eWakeupMode_Done</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack and prepares data for the next transfer</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga583483ea6397e01bf9a0502d05524d4b">IOLM_Port_PL_vTransferPrepare</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <span class="keyword">const</span> <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a>* pu8Data_p, <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8DataLength_p,</div>
<div class="line">    <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a>* pu8ResponseData_p, <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8ResponseLength_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack and tells the driver to trigger the prepared data</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga3c426594ce09a3fc95e3bbeab3b5dec2">IOLM_Port_PL_vTransferTrig</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack to set the port to a specific value in SIO mode</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga7642bf9f1e7e996fb4c1a08dabd921a3">IOLM_Port_PL_vSetDO</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a> boOutValue_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack to get the input value of a specific port in SIO mode</span></div>
<div class="line"><a class="code" href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a> <a class="code" href="group__grp__api__port.html#ga5e6b41e27f9b16554a7cd23fa2eb1581">IOLM_Port_PL_boGetDI</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a> boReturn;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code heree</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack to tell the physical layer to turn the power on/off for a specific port</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga7a3fd9cbca429ca4c2f4925e649c5ee1">IOLM_Port_PL_vSwitchPortPower</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a> boOn_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__group__iol__types_html_ga6e71b7775c2052aa5178dd6200b469c2"><div class="ttname"><a href="group__group__iol__types.html#ga6e71b7775c2052aa5178dd6200b469c2">IOL_ETargetMode</a></div><div class="ttdeci">IOL_ETargetMode</div><div class="ttdoc">This enumeration indicates the requested operational mode of the port.</div><div class="ttdef"><b>Definition:</b> IOL_Types.h:264</div></div>
<div class="ttc" id="agroup__group__iol__types_html_ga75128825bd016d37c12b95e89ef030e8"><div class="ttname"><a href="group__group__iol__types.html#ga75128825bd016d37c12b95e89ef030e8">TBOOL</a></div><div class="ttdeci">uint8_t TBOOL</div><div class="ttdoc">Boolean data type (at least 1 bit)</div><div class="ttdef"><b>Definition:</b> IOL_Port_Types.h:58</div></div>
<div class="ttc" id="agroup__group__iol__types_html_gaae113da6bf0dff8b771a8f485228b09b"><div class="ttname"><a href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a></div><div class="ttdeci">uint8_t INT8U</div><div class="ttdoc">8 bit unsigned integer</div><div class="ttdef"><b>Definition:</b> IOL_Port_Types.h:68</div></div>
<div class="ttc" id="agroup__group__iolm__types_html_ga7781adaa90a1f786ae5aebb5c938d337"><div class="ttname"><a href="group__group__iolm__types.html#ga7781adaa90a1f786ae5aebb5c938d337">IOLM_EWakeupMode</a></div><div class="ttdeci">IOLM_EWakeupMode</div><div class="ttdoc">This IOL_ENUM_DECL defines the wake-up modes.</div><div class="ttdef"><b>Definition:</b> IOLM_Types.h:670</div></div>
<div class="ttc" id="agroup__group__iolm__types_html_gga7781adaa90a1f786ae5aebb5c938d337a5c2cead9a17e2b6c70c6568d855a47dc"><div class="ttname"><a href="group__group__iolm__types.html#gga7781adaa90a1f786ae5aebb5c938d337a5c2cead9a17e2b6c70c6568d855a47dc">IOLM_eWakeupMode_Done</a></div><div class="ttdeci">@ IOLM_eWakeupMode_Done</div><div class="ttdoc">Wake-up is generated by port.</div><div class="ttdef"><b>Definition:</b> IOLM_Types.h:672</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga3c426594ce09a3fc95e3bbeab3b5dec2"><div class="ttname"><a href="group__grp__api__port.html#ga3c426594ce09a3fc95e3bbeab3b5dec2">IOLM_Port_PL_vTransferTrig</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vTransferTrig(INT8U u8Port_p)</div><div class="ttdoc">Start frame transmission.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:86</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga583483ea6397e01bf9a0502d05524d4b"><div class="ttname"><a href="group__grp__api__port.html#ga583483ea6397e01bf9a0502d05524d4b">IOLM_Port_PL_vTransferPrepare</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vTransferPrepare(INT8U u8Port_p, const INT8U *pu8Data_p, INT8U u8DataLength_p, INT8U *pu8ResponseData_p, INT8U u8ResponseLength_p)</div><div class="ttdoc">Prepare data exchange.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:80</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga5e6b41e27f9b16554a7cd23fa2eb1581"><div class="ttname"><a href="group__grp__api__port.html#ga5e6b41e27f9b16554a7cd23fa2eb1581">IOLM_Port_PL_boGetDI</a></div><div class="ttdeci">IOL_FUNC_DECL TBOOL IOLM_Port_PL_boGetDI(INT8U u8Port_p)</div><div class="ttdoc">Get input pin value.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:96</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga7642bf9f1e7e996fb4c1a08dabd921a3"><div class="ttname"><a href="group__grp__api__port.html#ga7642bf9f1e7e996fb4c1a08dabd921a3">IOLM_Port_PL_vSetDO</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vSetDO(INT8U u8Port_p, TBOOL boOutValue_p)</div><div class="ttdoc">Set output pin value.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:91</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga7a3fd9cbca429ca4c2f4925e649c5ee1"><div class="ttname"><a href="group__grp__api__port.html#ga7a3fd9cbca429ca4c2f4925e649c5ee1">IOLM_Port_PL_vSwitchPortPower</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vSwitchPortPower(INT8U u8Port_p, TBOOL boOn_p)</div><div class="ttdoc">Switch port power on or off.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:123</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga865affd649eb1c84815ab7637370e162"><div class="ttname"><a href="group__grp__api__port.html#ga865affd649eb1c84815ab7637370e162">IOLM_Port_PL_eWakeUp</a></div><div class="ttdeci">IOL_FUNC_DECL IOLM_EWakeupMode IOLM_Port_PL_eWakeUp(INT8U u8Port_p)</div><div class="ttdoc">Send wake-up pulse.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:73</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga99b0043dd21e95f9e7e6b3c319f1b5d7"><div class="ttname"><a href="group__grp__api__port.html#ga99b0043dd21e95f9e7e6b3c319f1b5d7">IOLM_Port_PL_vSetMode</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vSetMode(INT8U u8Port_p, IOL_ETargetMode eTargetMode_p)</div><div class="ttdoc">Set physical layer mode.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:68</div></div>
</div><!-- fragment --><h2><a class="anchor" id="sect_hwport_example_callbacks"></a>
Callbacks</h2>
<p>These callbacks are generated by the IO-Link driver to send the received events/data back to the stack.</p>
<div class="fragment"><div class="line"><span class="comment">// Callback generated by the IO-Link driver, if the timer is expired</span></div>
<div class="line"><span class="keywordtype">void</span> IOLM_Port_cbTimerCallback(u8Port_p)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__grp__api__port.html#ga1602161a944a9a7f5b380466011c063b">IOLM_API_vTimerExpired</a>(u8Port_p);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Callback generated by the IO-Link driver, if there was a succesful transfer</span></div>
<div class="line"><span class="keywordtype">void</span> IOLM_Port_cbXferRspCallback(IOLINK_Handle suIOLHandle_p, <a class="code" href="group__group__iol__types.html#ga457b26d31d5c098466eed5f056fe1979">INT32U</a> u32Port_p)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__grp__api__port.html#ga672eff8888c365335698c7f57d1c5f8e">IOLM_API_PL_vTransferInd</a>(u8Port_p, u32LenthOfReceivedData, <a class="code" href="group__group__iol__types.html#gga4e6816e38569c58dd0ea7890e4f2f823a06d11375939d89fa257608105a3ff1ce">IOL_eTransferStatus_OK</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Callback generated by the IO-Link driver, if there was an unsuccesful transfer</span></div>
<div class="line"><span class="keywordtype">void</span> IOLM_Port_cbXferErrRspCallback(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__grp__api__port.html#ga672eff8888c365335698c7f57d1c5f8e">IOLM_API_PL_vTransferInd</a>(u8Port_p, u32LenthOfReceivedData, <a class="code" href="group__group__iol__types.html#gga4e6816e38569c58dd0ea7890e4f2f823a5a6163e6c36d05f56581962fcfaceef5">IOL_eTransferStatus_FRAMING_ERROR</a>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__group__iol__types_html_ga457b26d31d5c098466eed5f056fe1979"><div class="ttname"><a href="group__group__iol__types.html#ga457b26d31d5c098466eed5f056fe1979">INT32U</a></div><div class="ttdeci">uint32_t INT32U</div><div class="ttdoc">32 bit unsigned integer</div><div class="ttdef"><b>Definition:</b> IOL_Port_Types.h:72</div></div>
<div class="ttc" id="agroup__group__iol__types_html_gga4e6816e38569c58dd0ea7890e4f2f823a06d11375939d89fa257608105a3ff1ce"><div class="ttname"><a href="group__group__iol__types.html#gga4e6816e38569c58dd0ea7890e4f2f823a06d11375939d89fa257608105a3ff1ce">IOL_eTransferStatus_OK</a></div><div class="ttdeci">@ IOL_eTransferStatus_OK</div><div class="ttdoc">No error occurred.</div><div class="ttdef"><b>Definition:</b> IOL_Types.h:101</div></div>
<div class="ttc" id="agroup__group__iol__types_html_gga4e6816e38569c58dd0ea7890e4f2f823a5a6163e6c36d05f56581962fcfaceef5"><div class="ttname"><a href="group__group__iol__types.html#gga4e6816e38569c58dd0ea7890e4f2f823a5a6163e6c36d05f56581962fcfaceef5">IOL_eTransferStatus_FRAMING_ERROR</a></div><div class="ttdeci">@ IOL_eTransferStatus_FRAMING_ERROR</div><div class="ttdoc">Invalid UART stop bit detected.</div><div class="ttdef"><b>Definition:</b> IOL_Types.h:105</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga1602161a944a9a7f5b380466011c063b"><div class="ttname"><a href="group__grp__api__port.html#ga1602161a944a9a7f5b380466011c063b">IOLM_API_vTimerExpired</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_API_vTimerExpired(INT8U u8Port_p)</div><div class="ttdoc">Port timer expired.</div><div class="ttdef"><b>Definition:</b> IOLM_SYS.c:227</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga672eff8888c365335698c7f57d1c5f8e"><div class="ttname"><a href="group__grp__api__port.html#ga672eff8888c365335698c7f57d1c5f8e">IOLM_API_PL_vTransferInd</a></div><div class="ttdeci">void IOLM_API_PL_vTransferInd(INT8U u8Port_p, INT8U u8DataLength_p, IOL_ETransferStatus eStatus_p)</div><div class="ttdoc">Data receive processing finished.</div><div class="ttdef"><b>Definition:</b> IOLM_DLA.c:248</div></div>
</div><!-- fragment --><h2><a class="anchor" id="sect_hwport_example_timer"></a>
Timer System</h2>
<p>These timer related functions need to be implemented.</p>
<div class="fragment"><div class="line"><span class="comment">// This function is called by the stack and needs to tell the driver to start </span></div>
<div class="line"><span class="comment">// a hardware timer for the specific port.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#ga5048c43ab45f1f2bcf4571605f41f24b">IOLM_Port_vStartTimer</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#ga457b26d31d5c098466eed5f056fe1979">INT32U</a> u32TimeUs_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function is called by the stack to receive the current SysTick value. </span></div>
<div class="line"><span class="comment">// The SysTick interval is defined in IOLM_SYSTICK_INTERVAL_MS.</span></div>
<div class="line"><a class="code" href="group__group__iol__types.html#ga9c332d739d1d5c862a32341608237d11">INT32S</a> <a class="code" href="group__grp__api__port.html#ga65eb361bc638770d50681bd9977cfedc">IOLM_Port_s32SysTickVal</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__group__iol__types.html#ga9c332d739d1d5c862a32341608237d11">INT32S</a> s32ClockGetTicks;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> s32ClockGetTicks;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__group__iol__types_html_ga9c332d739d1d5c862a32341608237d11"><div class="ttname"><a href="group__group__iol__types.html#ga9c332d739d1d5c862a32341608237d11">INT32S</a></div><div class="ttdeci">int32_t INT32S</div><div class="ttdoc">32 bit signed integer</div><div class="ttdef"><b>Definition:</b> IOL_Port_Types.h:64</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga5048c43ab45f1f2bcf4571605f41f24b"><div class="ttname"><a href="group__grp__api__port.html#ga5048c43ab45f1f2bcf4571605f41f24b">IOLM_Port_vStartTimer</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_vStartTimer(INT8U u8Port_p, INT32U u32TimeUs_p)</div><div class="ttdoc">Start port hardware timer.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:138</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga65eb361bc638770d50681bd9977cfedc"><div class="ttname"><a href="group__grp__api__port.html#ga65eb361bc638770d50681bd9977cfedc">IOLM_Port_s32SysTickVal</a></div><div class="ttdeci">IOL_FUNC_DECL INT32S IOLM_Port_s32SysTickVal(void)</div><div class="ttdoc">Get SysTick value.</div><div class="ttdef"><b>Definition:</b> IOLM_Port_Functions.c:143</div></div>
</div><!-- fragment --><h2><a class="anchor" id="sect_hwport_example_phy"></a>
Physical Frame Handler and/or Cycle Timer</h2>
<p>If the IO-Link hardware implementation offers a physical frame handler, the stack calls this function and the driver implementation needs to send back the negotiated baud rate.</p>
<div class="fragment"><div class="line"><a class="code" href="group__group__iol__types.html#ga72e1c09692cb66447663127e8b16020c">IOL_EBaudrate</a> <a class="code" href="group__grp__api__port.html#ga90c47f355cb4f20fcd89e822071dfb95">IOLM_Port_PL_eSetFHCfg</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8PdOut_p, <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8PdIn_p,</div>
<div class="line">    <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8ODLen_p, <a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8IOLCycle_p)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__group__iol__types.html#ga72e1c09692cb66447663127e8b16020c">IOL_EBaudrate</a> = eReceivedBaudrate;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> eReceivedBaudrate;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__group__iol__types_html_ga72e1c09692cb66447663127e8b16020c"><div class="ttname"><a href="group__group__iol__types.html#ga72e1c09692cb66447663127e8b16020c">IOL_EBaudrate</a></div><div class="ttdeci">IOL_EBaudrate</div><div class="ttdoc">This enumeration indicates the transmission rate.</div><div class="ttdef"><b>Definition:</b> IOL_Types.h:308</div></div>
<div class="ttc" id="agroup__grp__api__port_html_ga90c47f355cb4f20fcd89e822071dfb95"><div class="ttname"><a href="group__grp__api__port.html#ga90c47f355cb4f20fcd89e822071dfb95">IOLM_Port_PL_eSetFHCfg</a></div><div class="ttdeci">IOL_FUNC_DECL IOL_EBaudrate IOLM_Port_PL_eSetFHCfg(INT8U u8Port_p, INT8U u8PdOut_p, INT8U u8PdIn_p, INT8U u8ODLen_p, INT8U u8IOLCycle_p)</div><div class="ttdoc">Frame handler setup.</div></div>
</div><!-- fragment --><p>If the IO-Link hardware implementation offers a physical cycle timer, the stack calls this function to set it up.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group__grp__api__port.html#gafebbe478fb8736934947262f0376454d">IOLM_Port_PL_vSetPhyCycleTimer</a>(<a class="code" href="group__group__iol__types.html#gaae113da6bf0dff8b771a8f485228b09b">INT8U</a> u8Port_p, <a class="code" href="group__group__iol__types.html#ga457b26d31d5c098466eed5f056fe1979">INT32U</a> u32TimeUs_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ToDo: Insert hardware specific code here</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__grp__api__port_html_gafebbe478fb8736934947262f0376454d"><div class="ttname"><a href="group__grp__api__port.html#gafebbe478fb8736934947262f0376454d">IOLM_Port_PL_vSetPhyCycleTimer</a></div><div class="ttdeci">IOL_FUNC_DECL void IOLM_Port_PL_vSetPhyCycleTimer(INT8U u8Port_p, INT32U u32TimeUs_p)</div><div class="ttdoc">Cycle timer setup.</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>IO-Link Master: Quickstart - IO-Link Master</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> IO-Link Master<span id="projectnumber">1.09.04</span></div></td>
         <td id="projectbrief" align="right"><img src=IOLinkLogoIcon.PNG /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_quickstart.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Quickstart - IO-Link Master </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="qs_installation_software"></a>
Software Installation</h1>
<p>To start working with the Eight Port IO-Link Master, you need the software Code Composer Studio&trade;(CCS).</p>
<p>This example has been compiled and tested with the following versions: </p><table class="doxtable">
<tr>
<th>Software Package </th><th>Version  </th></tr>
<tr>
<td>Code Composer Studio&trade;(CCS) </td><td>12.2.0  </td></tr>
<tr>
<td>MCU+ SDK </td><td>08.06.00.22  </td></tr>
<tr>
<td>TI ARM clang </td><td>2.1.2.LTS  </td></tr>
<tr>
<td>SysConfig Tool </td><td>1.15.0  </td></tr>
</table>
<h1><a class="anchor" id="page_example"></a>
CCS Example Project</h1>
<h2><a class="anchor" id="qs_installation_connect"></a>
Connect the Evaluation Board</h2>
<h3><a class="anchor" id="connect_eval_board_am243x_lp"></a>
LP-AM243</h3>
<ul>
<li>
Connect the <b>IO-Link/Breakout Board BOOSTXL-IOLINKM-8</b> to the <b>LP-AM243</b> board via <b>J1/J3</b>, <b>J2/J4</b>, <b>J5/J7</b>, and <b>J6/J8</b> connectors. </li>
<li>
Connect the <b>J10</b> connector on the <b>LP-AM243</b> to a USB-C <b>5.0V</b> power supply (min. <b>3.0A</b>) </li>
<li>
Connect the <b>J7</b> connector on the <b>IO-Link/Breakout Board BOOSTXL-IOLINKM-8</b> to a <b>24V</b> power supply. </li>
<li>
Connect the <b>LP-AM243</b> to a computer using a micro-USB cable going to the <b>J20</b> connector. This is for <b>UART</b> <br  />
 (for IOLink SMI Communication) as well as <b>JTAG</b> (for uploading and debugging). </li>
</ul>
<h3><a class="anchor" id="connect_eval_board_am243x_evm"></a>
AM243x EVM</h3>
<ul>
<li>
Connect the <b>IO-Link/Breakout Board TMDS64DC01EVM</b> to the <b>AM243x EVM</b> board via <b>J2</b> and <b>J3</b>. </li>
<li>
Connect the <b>AM243x EVM</b> to a <b>12V</b> power supply. </li>
<li>
Connect the <b>IO-Link/Breakout Board TMDS64DC01EVM</b> to a <b>24V</b> power supply. </li>
<li>
Connect the evaluation board to a computer using two micro-USB cables going to <b>J26 UART</b> <br  />
 (for IOLink SMI Communication) and <b>J28 JTAG</b> (for uploading and debugging) on the <b>AM243x EVM board</b>.</li>
</ul>
<h2><a class="anchor" id="qs_example_run"></a>
Steps to Run the Example</h2>
<ul>
<li>
When using CCS projects to build, import the CCS project for the required combination and build it using the CCS project menu, see <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>. </li>
<li>
When using makefiles to build, note the required combination and build using make command, see <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>. </li>
<li>
Launch a CCS debug session and run the executable, see <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a>. </li>
</ul>
<h2><a class="anchor" id="qs_example_import"></a>
Import Project in CCS</h2>
<p><b>Importing the project into your CCS workspace</b></p>
<ul>
<li>
Click on <b>File &rarr; Import</b>.</li>
</ul>
<p><img src="CCS_Example_01.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Select <b>C/C++ &rarr; CCS Projects</b>. <ul>
<li>
Click on <b>Next</b>.</li>
</ul>
</li>
</ul>
<p><img src="CCS_Example_02.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Navigate to the <b>examples/industrial_comms/iolink_master_demo</b> folder using the <b>Browse...</b> button. </li>
<li>
<b>Select the folder</b> of the board you want to import. </li>
<li>
Click on <b>Select folder</b>. </li>
</ul>
<p><img src="CCS_Example_03_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<p>CCS should have discovered and selected the project. </p><ul>
<li>
Click on <b>Finish</b> to import the project.</li>
</ul>
<p><img src="CCS_Example_04_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h2><a class="anchor" id="qs_example_debug"></a>
Compile, Run and Debug Project</h2>
<p>Make sure the IO-Link Master USB JTAG is connected to the PC and the Master is powered on.Since we are running the application on the R5F, one needs to initialize the whole board through the DMSC M3.<br  />
 The MCU+ SDK includes a launch script which does all the initalization steps. <br  />
 It is located in the MCU+ SDK folder at <b>mcu_plus_sdk_am243x_08_06_00_22 /tools/ccs_load/am64x_am243x/</b>. <br  />
 Depending on your CCS setup, one needs to edit the paths to fit the local installation in the <b>load_dmsc.js</b> file, <br  />
 which can be seen in the Screenshot below. The version number needs to be changed to the installed MCU+ SDK version if it is not automatically detected. <img src="CCS_Example_launch01_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<p>After that, one needs to check your Debug Configuration in <b>Run-&gt;Debug Configurations</b>.<br  />
 See if the configured launch file location fits to your setup environment.<br  />
 Otherwise one also needs to edit this line.<br  />
 <img src="CCS_Example_launch00_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Click on <b>Debug</b>.</li>
</ul>
<p><img src="CCS_Example_07_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<p>CCS automatically builds the project, connects to the Master,<br  />
 transfers the compiled binary project data into the Master's RAM and starts a debugging session.</p>
<p>When the transfer is complete the debugger halts at the <b>main()</b> function.</p>
<ul>
<li>
Click on <b>Run</b> to execute the program.</li>
</ul>
<p><img src="CCS_Example_08_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h2><a class="anchor" id="qs_example_modify"></a>
Modify Example</h2>
<p>This example runs the Master stack functions in its own seperate task. This task initializes<br  />
 all needed interfaces and then executes the <b>IOLM_exampleRun()</b> function in an endless loop.<br  />
 The <b>IOLM_exampleRun()</b> function is located in the <b>ExampleSMI.c</b> file,<br  />
 where it is possible to add or modify code to fit the desired environment.<br  />
 <img src="CCS_Example_Mod_01_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h1><a class="anchor" id="page_gui"></a>
SMI - Graphical User Interface</h1>
<p>The <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/common/IOL_Master_GUI.zip">IO-Link Master GUI</a> can be used to connect to the IO-Link Master's<br  />
 Standardized Master Interface (<a class="el" href="page_smi.html">SMI</a>) via usb, set up configuration parameters,<br  />
 read status information and communicate with attached IO-Link devices.<br  />
</p>
<h2><a class="anchor" id="qs_gui_connect"></a>
Connect to the Master</h2>
<p>Now one can connect a micro USB cable to the UART USB portfor the AM243x EVM or to XDS110 MAIN UART0 USB port (J20) for the AM243x Launchpad.<br  />
</p>
<ul>
<li>Make sure the example project is running on the IO-Link Master.</li>
<li>Start the <b>IO-Link Master GUI</b> tool.</li>
<li>Wait for it to scan available interfaces</li>
<li><b>COMX: Master</b> should appear in <b>Serial Connection &rarr; Port</b>.</li>
<li>Click on <b>Serial Connection &rarr; Connect</b></li>
</ul>
<p><img src="IOL_Master_GUI_USB_02.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h3><a class="anchor" id="qs_gui_ports"></a>
Port Configuration</h3>
<p>In the <b>Std Port Config</b> tab the configuration and status of the Master's eight ports<br  />
 can be read and changed.</p>
<p>You can retrieve the Master's current port configuration and port status<br  />
 by clicking the corresponding buttons.<br  />
</p>
<p>The default setting sets all ports except the first one (port number: 0) to <b>DEACTIVED</b>.<br  />
 Port 0 is by default set to <b>IOL_AUTOSTART</b>, which starts an auto-detect-sequence.<br  />
 For more details on port modes see the section <a class="el" href="page_startcom.html#sect_startcom_start">Set up IO Link Port</a> <br  />
and the <a class="el" href="references.html#section_iol_spec_1_1">IO-Link Specification v1.1.2</a>.<br  />
</p>
<p>After changing the Master's port configuration it will be saved in its internal<br  />
 non-volatile memory and remain even after restarting or turning it off.</p>
<p>To connect a Device to a certain port, its mode has to be changed to <b>IOL_AUTOSTART</b>.</p>
<ul>
<li>
Physically connect your Device to the IO-Link add-on board. </li>
<li>
Set the <b>Port Number</b> to the desired port one wants to configure.</li>
</ul>
<p><img src="IOL_Master_GUI_19.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Open the dropdown list <b>Port Mode:</b>. </li>
<li>
Select the desired mode.</li>
</ul>
<p><img src="IOL_Master_GUI_20.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Click on <b>Set Port Config</b> to send your altered configuration to the Master.</li>
</ul>
<p><img src="IOL_Master_GUI_21.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<p>If a Device is connected and the communication is established, the port's status changes<br  />
 from <b>DEACTIVED</b> to <b>OPERATE</b>.</p>
<ul>
<li>
Click on <b>Get Port Status</b> to see if the device is connected.</li>
</ul>
<p><img src="IOL_Master_GUI_22.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h3><a class="anchor" id="qs_gui_acyclic"></a>
Read/Write Process Data</h3>
<p>To read Process Data from a Device go to the <b>Process Data</b> tab<br  />
 and set <b>Port:</b> to its corresponding port number.<br  />
</p>
<ul>
<li>
Click on <b>Read</b> to read Process Data.</li>
</ul>
<p><img src="IOL_Master_GUI_10.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Select <b>Auto (ms):</b>. </li>
<li>
Click on <b>Read</b> to get continuous data.</li>
</ul>
<p><img src="IOL_Master_GUI_11.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h3><a class="anchor" id="qs_gui_isdu"></a>
Read/Write ISDUs</h3>
<p>In the <b>On Request Data</b> tab you can request Indexed Service Data Units (ISDUs)<br  />
 from the Device or send ISDUs to the Device.<br  />
 For more information on ISDUs see the <a class="el" href="references.html#section_iol_spec_1_1">IO-Link Specification v1.1.2</a>.<br  />
</p>
<p>As an example, you can get the vendor name by setting the <b>Index</b> to <b>16</b><br  />
 and leaving the <b>Sub-Index</b> set to <b>0</b>.</p>
<p><img src="IOL_Master_GUI_12.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h3><a class="anchor" id="qs_gui_iodd"></a>
Load IODD files</h3>
<p>It is possible to import IO Device Description (IODD) files for ones connected Devices<br  />
 in the <b>Std Port Config</b> tab. This makes it easier to read and set Device parameters.<br  />
 For more information on IODD files see the <a class="el" href="references.html#section_iol_spec_1_1">IO-Link Specification v1.1.2</a> and the <u><a href="https://io-link.com/en/IODDfinder/IODDfinder.php">IODDFinder</a></u>.</p>
<ul>
<li>
Make sure the port status is in <b>OPERATE</b> mode. </li>
<li>
Click on <b>Read IODD</b>.</li>
</ul>
<p><img src="IOL_Master_GUI_14.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Navigate to the specific IODD file for the Device. </li>
<li>
Click on Open.</li>
</ul>
<p><img src="IOL_Master_GUI_13.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<ul>
<li>
Click on the <b>ISDU Request Data</b> tab. </li>
<li>
Click on <b>Update List</b> to read all available ISDUs from the Device.</li>
</ul>
<p><img src="IOL_Master_GUI_16.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<p>Values which aren't read-only can be changed and then sent to the Device by pressing the <b>Write</b> button. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

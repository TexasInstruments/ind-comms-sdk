<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>IO-Link Master: Quickstart - IO-Link Master</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> IO-Link Master<span id="projectnumber">v2.01.00</span></div></td>
         <td id="projectbrief" align="right"><img src=IOLinkLogoIcon.PNG /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page_quickstart.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Quickstart - IO-Link Master</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="qs_installation_software"></a>
Software Installation</h1>
<p>To start working with the IO-Link Master, you need the software Code Composer Studio&trade;(CCS).</p>
<p>This example has been compiled and tested with the following versions: </p><table class="doxtable">
<tr>
<th>Software Package </th><th>Version  </th></tr>
<tr>
<td>Code Composer Studio&trade;(CCS) </td><td>12.6.0  </td></tr>
<tr>
<td>MCU+ SDK </td><td>09.02.00.03   </td></tr>
<tr>
<td>TI ARM clang </td><td>3.2.1.LTS  </td></tr>
<tr>
<td>SysConfig Tool </td><td>1.19.0   </td></tr>
</table>
<h1><a class="anchor" id="page_example"></a>
CCS Example Project</h1>
<h2><a class="anchor" id="connect_eval_board_am243x_lp"></a>
Connect the Evaluation Board LP-AM243</h2>
<ul>
<li>
Connect the <b>IO-Link/Breakout Board BOOSTXL-IOLINKM-8</b> to the <b>LP-AM243</b> board via <b>J1/J3</b>, <b>J2/J4</b>, <b>J5/J7</b>, and <b>J6/J8</b> connectors. </li>
<li>
Connect the <b>J10</b> connector on the <b>LP-AM243</b> to a USB-C <b>5.0V</b> power supply (min. <b>3.0A</b>) </li>
<li>
Connect the <b>J7</b> connector on the <b>IO-Link/Breakout Board BOOSTXL-IOLINKM-8</b> to a <b>24V</b> power supply. </li>
<li>
Connect the <b>LP-AM243</b> to a computer using a micro-USB cable going to the <b>J20</b> connector. This is for <b>UART</b> <br  />
 (for IOLink SMI Communication) as well as <b>JTAG</b> (for uploading and debugging). </li>
</ul>
<h2><a class="anchor" id="connect_eval_board_am243x_evm"></a>
Connect the Evaluation Board AM243x EVM</h2>
<ul>
<li>
Connect the <b>IO-Link/Breakout Board TMDS64DC01EVM</b> to the <b>AM243x EVM</b> board via <b>J2</b> and <b>J3</b>. </li>
<li>
Connect the <b>AM243x EVM</b> to a <b>12V</b> power supply. </li>
<li>
Connect the <b>IO-Link/Breakout Board TMDS64DC01EVM</b> to a <b>24V</b> power supply. </li>
<li>
Connect the evaluation board to a computer using two micro-USB cables going to <b>J26 UART</b> <br  />
 (for IOLink SMI Communication) and <b>J28 JTAG</b> (for uploading and debugging) on the <b>AM243x EVM board</b>.</li>
</ul>
<h2><a class="anchor" id="qs_example_run"></a>
Steps to Run the Example</h2>
<ul>
<li>
When using CCS projects to build, import the CCS project for the required combination and build it using the CCS project menu, see  <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>. </li>
<li>
When using makefiles to build, note the required combination and build using make command , see <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>.  </li>
<li>
Launch a CCS debug session and run the executable, see  <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a>. </li>
</ul>
<h2><a class="anchor" id="qs_example_import"></a>
Import Project in CCS</h2>
<p><b>Importing the project into your CCS workspace</b></p>
<ul>
<li>
Click on <b>File &rarr; Import</b>.<br  />
 <img src="CCS_Example_01.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Select <b>C/C++ &rarr; CCS Projects</b>. </li>
<li>
Click on <b>Next</b>.<br  />
 <img src="CCS_Example_02.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Navigate to the  <b>examples/industrial_comms/iolink_master_demo</b> folder  using the <b>Browse...</b> button. </li>
<li>
<b>Select the folder</b>  of the board you want to import.  </li>
<li>
Click on <b>Select folder</b>.<br  />
  <img src="CCS_Example_03_64x.PNG" alt="" width="600px" height="auto" class="inline"/><br  />
  CCS should have discovered and selected the project. </li>
<li>
Click on <b>Finish</b> to import the project.<br  />
  <img src="CCS_Example_04_64x.PNG" alt="" width="600px" height="auto" class="inline"/>  </li>
</ul>
<h2><a class="anchor" id="qs_example_debug"></a>
Compile, Run and Debug Project</h2>
<ul>
<li>
Make sure the IO-Link Master <b>USB JTAG is connected</b> to the PC and the <b>Master is powered on.</b>   </li>
<li>
Since we are running the application on the R5F, one needs to <b>initialize the whole board through the DMSC M3.</b><br  />
 The MCU+ SDK includes a launch script which does all the initalization steps.<br  />
 It is located in the MCU+ SDK folder at <b> mcu_plus_sdk /tools/ ccs_load/ am243x/  </b> </li>
<li>
One needs to check your Debug Configuration in <b>Run &rarr; Debug Configurations</b>.<br  />
 See if the configured launch file location fits to your setup environment.<br  />
 Otherwise one also needs to edit this line.<br  />
  <img src="CCS_Example_launch00_64x.PNG" alt="" width="600px" height="auto" class="inline"/>   </li>
<li>
Click on <b>Debug</b>.<br  />
  <img src="CCS_Example_07_64x.PNG" alt="" width="600px" height="auto" class="inline"/>  </li>
</ul>
<p>CCS automatically builds the project, connects to the Master,<br  />
 transfers the compiled binary project data into the Master's RAM and starts a debugging session.</p>
<p>When the transfer is complete the debugger halts at the <b>main()</b> function.</p>
<ul>
<li>
Click on <b>Run</b> to execute the program.<br  />
  <img src="CCS_Example_08_64x.PNG" alt="" width="600px" height="auto" class="inline"/>  </li>
</ul>
<p><b>Be aware that the IO-Link AM437x IDK Main Board revision differs from the regular IDK<br  />
 and does not support SD storage.</b><br  />
</p>
<p>To run your code without the CCS debugger, you need to manually flash the compiled binary data<br  />
 (including a compatible bootloader) into the devices QSPI attached flash memory.<br  />
  (See <u><a href="https://downloads.ti.com/mcu-plus-sdk/esd/AM243X/latest/exports/docs/api_guide_am243x/GETTING_STARTED_FLASH.html">Flash a Hello World example</a></u>) </p>
<h2><a class="anchor" id="qs_example_modify"></a>
Modify Example</h2>
<p>This example runs the Master stack functions in its own separate task. This task initializes<br  />
 all needed interfaces and then executes the <b>IOLM_exampleRun()</b> function in an endless loop.<br  />
 The <b>IOLM_exampleRun()</b> function is located in the <b>ExampleSMI.c</b> file,<br  />
 where it is possible to add or modify code to fit the desired environment.<br  />
  <img src="CCS_Example_Mod_01_64x.PNG" alt="" width="600px" height="auto" class="inline"/></p>
<h3><a class="anchor" id="example_nvram"></a>
Modify Non-volatile Storage Hardware Driver</h3>
<p>For details see <a class="el" href="page_nvram.html">Non-volatile Storage (NVRAM) Hardware Driver</a>.</p>
<h3><a class="anchor" id="custom_pru"></a>
Using customized PRU Firmware</h3>
<p>To use a customized PRU firmware, simply reference the binaries in the <b>iolmPruExampleConfig</b> structure in main.c, as can be seen in the example below:</p>
<p><img src="UseCustomPRUFirmware.png" alt="" width="600px" height="auto" class="inline"/></p>
<h1><a class="anchor" id="page_gui"></a>
SMI - Graphical User Interface</h1>
<p>The <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/common/IOL_Master_GUI.zip">IO-Link Master GUI</a> can be used to connect to the IO-Link Master's<br  />
 Standardized Master Interface (<a class="el" href="page_smi.html">SMI</a>) via  USB , to set up configuration parameters,<br  />
 read status information and communicate with attached IO-Link devices.<br  />
</p>
<h2><a class="anchor" id="qs_gui_connect"></a>
Connect to the Master</h2>
<p>Now one can connect a micro USB cable to the UART USB port  for the AM243x EVM or to XDS110 MAIN UART0 USB port (J20) for the AM243x Launchpad. <br  />
  </p><ul>
<li>
Make sure the example project is running on the IO-Link Master. </li>
<li>
Start the <a href="http://software-dl.ti.com/mcu-plus-sdk/esd/common/IOL_Master_GUI.zip">IO-Link Master GUI</a> tool.  </li>
<li>
Wait for it to scan available interfaces </li>
<li>
<b>COMx: Master</b> should appear in <b>Serial Connection &rarr; Port</b>. </li>
<li>
Click on <b>Serial Connection &rarr; Connect</b><br  />
 <img src="IOL_Master_GUI_USB_02.PNG" alt="" width="600px" height="auto" class="inline"/>  </li>
</ul>
<h2><a class="anchor" id="qs_gui_ports"></a>
Port Configuration</h2>
<p>In the <b>Std Port Config</b> tab the configuration and status of the Master's ports<br  />
 can be read and changed.</p>
<p>You can retrieve the Master's current port configuration and port status<br  />
 by clicking the corresponding buttons.<br  />
</p>
<p>The default setting sets all ports except the first one (port number: 0) to <b>DEACTIVED</b>.<br  />
 Port 0 is by default set to <b>IOL_AUTOSTART</b>, which starts an auto-detect-sequence.<br  />
 For more details on port modes see the section <a class="el" href="page_startcom.html#sect_startcom_start">Set up IO Link Port</a> <br  />
and the <a class="el" href="references.html#section_iol_spec_1_1_3">IO-Link Specification v1.1.3</a>.<br  />
</p>
<p>After changing the Master's port configuration it will be saved in its internal<br  />
 non-volatile memory and remain even after restarting or turning it off.</p>
<p>To connect a device to a certain port, its mode has to be changed to <b>IOL_AUTOSTART</b>.</p>
<ul>
<li>
Physically connect your device to the IO-Link add-on board. </li>
<li>
Set the <b>Port Number</b> to the desired port one wants to configure.<br  />
 <img src="IOL_Master_GUI_19.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Open the dropdown list <b>Port Mode:</b> and select the desired mode.<br  />
 <img src="IOL_Master_GUI_20.PNG" alt="" width="600px" height="auto" class="inline"/><br  />
 </li>
<li>
Click on <b>Set Port Config</b> to send your altered configuration to the Master.<br  />
 <img src="IOL_Master_GUI_21.PNG" alt="" width="600px" height="auto" class="inline"/><br  />
 If a device is connected and the communication is established, the port's status changes<br  />
 from <b>DEACTIVED</b> to <b>OPERATE</b>. </li>
<li>
Click on <b>Get Port Status</b> to see if the device is connected.<br  />
 <img src="IOL_Master_GUI_22.PNG" alt="" width="600px" height="auto" class="inline"/></li>
</ul>
<h2><a class="anchor" id="qs_gui_acyclic"></a>
Read/Write Process Data</h2>
<ul>
<li>
To read Process Data from a device go to the <b>Process Data</b> tab </li>
<li>
and set <b>Port:</b> to its corresponding port number. </li>
<li>
Click on <b>Read</b> to read Process Data.<br  />
 <img src="IOL_Master_GUI_10.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Enable <b>Auto (ms):</b> </li>
<li>
Click on <b>Read</b> to get continuous data.<br  />
 <img src="IOL_Master_GUI_11.PNG" alt="" width="600px" height="auto" class="inline"/></li>
</ul>
<h2><a class="anchor" id="qs_gui_isdu"></a>
Read/Write ISDUs</h2>
<p>In the <b>On Request Data</b> tab you can request Indexed Service Data Units (ISDUs)<br  />
 from the device or send ISDUs to the device.<br  />
 For more information on ISDUs see the <a class="el" href="references.html#section_iol_spec_1_1_3">IO-Link Specification v1.1.3</a>.<br  />
 </p><ul>
<li>
As an example, you can get the vendor name by setting <br  />
 the <b>Index</b> to <b>16</b> and leaving the <b>Sub-Index</b> set to <b>0</b>.<br  />
 <img src="IOL_Master_GUI_12.PNG" alt="" width="600px" height="auto" class="inline"/></li>
</ul>
<h2><a class="anchor" id="qs_gui_iodd"></a>
Load IODD files</h2>
<p>It is possible to import IO Device Description (IODD) files for ones connected devices<br  />
 in the <b>Std Port Config</b> tab. This makes it easier to read and set device parameters.<br  />
 For more information on IODD files see the <a class="el" href="references.html#section_iol_spec_1_1_3">IO-Link Specification v1.1.3</a> and the <u><a href="https://io-link.com/en/IODDfinder/IODDfinder.php">IODDFinder</a></u>.</p>
<ul>
<li>
Make sure the port status is in <b>OPERATE</b> mode. </li>
<li>
Click on <b>Read IODD</b>.<br  />
 <img src="IOL_Master_GUI_14.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Navigate to the specific IODD file for the device. </li>
<li>
Click on Open.<br  />
 <img src="IOL_Master_GUI_13.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Click on the <b>ISDU Request Data</b> tab. </li>
<li>
Click on <b>Update List</b> to read all available ISDUs from the device.<br  />
 <img src="IOL_Master_GUI_16.PNG" alt="" width="600px" height="auto" class="inline"/> </li>
<li>
Values which aren't read-only can be changed and then sent to the device by pressing the <b>Write</b> button.</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

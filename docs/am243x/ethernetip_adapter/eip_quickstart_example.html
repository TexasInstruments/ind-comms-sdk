<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<title>EtherNet/IP™ Adapter: EtherNet/IP Adapter Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="ReleaseNotes.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> EtherNet/IP™ Adapter<span id="projectnumber">3.04.02</span></div></td>
         <td id="projectbrief" align="right"><img src=EtherNetIP.png /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('eip_quickstart_example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">EtherNet/IP Adapter Examples</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="eip_quickstart_example_scope"></a>
Scope</h1>
<p>This section discusses example applications that are shipped as part of the EtherNet/IP Adapter SDK. The directory structures below describe the location of all libraries and example source files required to build EtherNet/IP Adapter examples applications for different profiles as specfied in Chaper 6 Device Profiles of <a href="index.html#vol1">THE CIP NETWORKS LIBRARY &ndash; Volume 1</a>.</p>
<p>The example applications are build from a set of C source and header files the are common for all different device profiles and code files that contain the actual device profile specific functionality such as particular objects, instance, attributes, and assemblies.</p>
<p>This structure can be extended with further device profiles examples over the time.</p>
<p>It is also suggested that device manufacturers integrate their specific implementations into this structure, if possible.</p>
<p><img src="eipDirectoryStructureAM243.svg" alt="" style="pointer-events: none;" class="inline"/> </p>
<h1><a class="anchor" id="eip_quickstart_example_common_files"></a>
Common Files</h1>
<p>The parts of the examples applications that are common for all profiles are implemented in the C code files, and their corresponding header files, listed below:</p>
<dl>
<dt>app.c </dt>
<dd>Main enty point to the example application. Presets the priority levels of each of the tasks required to run the EtherNet/IP Adapter examples, initializes the general operating system and hardware abstraction layers, starts the EtherNet/IP&trade; main application task, and finally starts the operating system abstraction layer. </dd>
<dt>appTask.c </dt>
<dd>Implementation of main task with board and driver initialitzation, registration of device profile specific functions via a generic profile interface. Implementation of generic stack and OS error handler callback functions. Callback function that is triggered on Forward_Open Large_Forward_Open, and Forward_Close service requests. If configured in the Predefined Symbols (projecct Properties &rarr; Build &rarr; Arm Compiler &rarr; Predefined Symbols: CPU_LOAD_MONITOR) of Code Composer Studio, starting the simple web server. </dd>
<dt>appNV.c </dt>
<dd>Initialitzation of non-volatile data, read and write access to non-volatile memory, for example Flash. </dd>
<dt>appCfg.c </dt>
<dd>Handling of configuration data that are addressed via CIP attributes, such as IP address, LLDP Management Object, Time Synch object, and others. </dd>
<dt>appRst.c </dt>
<dd>Handling of functionality related to the Identity Object reset service. </dd>
<dt>appWebServer.c </dt>
<dd>Simplified example of handling of HTTP requests. The available HTTP page displays the CPU load induced by each of the tasks requied to run the EtherNet/IP Adapter. Note that this file is not equivalent of a full embedded web server implementation but provides only limited functionality. </dd>
<dt>deviceProfiles/app_device_profile.c </dt>
<dd>Implementation of a generic interface for device profile specific functionality. This interface may also be used as a starting point for vendor-specific implementations as demonstrated by the Generic Device (Device Type 0x2B) example in <code>deviceProfiles/genericDevice/app_generic_device.c</code>  </dd>
</dl>
<h2><a class="anchor" id="main"></a>
main()</h2>
<p><code>main()</code> is implemented in <code>app.c</code>. Its scope is the initialitzation the Texas Instruments driver porting layer (DPL), the selection of the PRU-ICSS instance, PHY devices, and the configuration of task priorities. After this initial setup, a task is constructed executing <code>EI_APP_mainTask()</code> that implements the CIP and EtherNet/IP functionality. <code>CMN_APP_mainCreate()</code> is implemented in <code>CMN_app.c</code> and uses the <code>TaskP_construct()</code> from the Task API of the DPL.</p>
<p><img src="ethernetip_adapter_common_processes.svg" alt="" style="pointer-events: none;" height="auto" class="inline"/></p>
<div class="fragment"><div class="line">    CMN_OS_init ();</div>
<div class="line"> </div>
<div class="line">    err = OSAL_init ();</div>
<div class="line">    <span class="keywordflow">if</span> (err != OSAL_NO_ERROR)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">goto</span> laError;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    OSAL_registerErrorHandler (EI_APP_TASK_osErrorHandlerCb);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(QUICK_CONNECT)</span></div>
<div class="line">    OSAL_printfSuppress(<span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    CMN_APP_mainCreate(EI_APP_TASK_main, &amp;appInstance, pCfg-&gt;application.taskPrio);</div>
<div class="line"> </div>
<div class="line">    OSAL_startOs ();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> (0);</div>
</div><!-- fragment --><h2><a class="anchor" id="EI_APP_TASK_main"></a>
EI_APP_TASK_main()</h2>
<p><code>EI_APP_mainTask()</code> is implemented in <code>appTask.c</code>. It initializes and opens all peripheral drivers, depending on the SysConfig settings for the project. To enable UART console output, verify that your SysConfig settings are as follows:</p>
<p><img src="eip_am243x_syscfg.png" alt="" border="1" height="auto" class="inline"/> </p>
<p>These settings result in the following code in <code>ti_drivers_open_close.c</code> including the declaration of the handle <code>gUartHandle</code> that is later used in the example code to access the UART.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">   UART</span></div>
<div class="line"><span class="comment">  /</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/* UART Driver handles */</span></div>
<div class="line">UART_Handle gUartHandle[CONFIG_UART_NUM_INSTANCES];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* UART Driver Parameters */</span></div>
<div class="line">UART_Params gUartParams[CONFIG_UART_NUM_INSTANCES] =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        .baudRate           = 115200,</div>
<div class="line">        .dataLength         = UART_LEN_8,</div>
<div class="line">        .stopBits           = UART_STOPBITS_1,</div>
<div class="line">        .parityType         = UART_PARITY_NONE,</div>
<div class="line"> </div>
<div class="line">            :</div>
<div class="line">            :</div>
<div class="line">            :</div>
</div><!-- fragment --><p>In <code>EI_APP_maintTask()</code> <code>CUST_DRIVERS_init()</code> is called to initialize different drivers such as QSPI, I2C, and UART. Depending on the defintion of PRINTF_CALLBACK_FUNCTION in <code>board.h</code> <code>CUST_DRIVERS_init()</code> registers a callback function for UART output calling <code>OSAL_registerPrintOut()</code>. In the callback function strings are then written to the console output by calling <code>UART_write</code> from the Texas Instruments driver library:</p>
<p><code>board.h</code> </p><div class="fragment"><div class="line"><span class="preprocessor">#define PRINTF_CALLBACK_FUNCTION        CUST_DRIVERS_UART_printf</span></div>
<div class="line"><span class="preprocessor">#define PRINTF_UART_CALLBACK_INSTANCE   CONFIG_UART_CONSOLE</span></div>
</div><!-- fragment --><p><code>CUST_drivers.C</code> </p><div class="fragment"><div class="line">    :</div>
<div class="line">    :</div>
<div class="line">    :</div>
<div class="line"> </div>
<div class="line">Drivers_open();</div>
<div class="line">OSAL_registerPrintOut(NULL, PRINTF_CALLBACK_FUNCTION);</div>
</div><!-- fragment --><p><code>CUST_drivers.c</code> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> CUST_DRIVERS_UART_printf(<span class="keywordtype">void</span>* pContext_p, <span class="keyword">const</span> <span class="keywordtype">char</span>* __restrict pFormat_p, va_list argptr_p)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* @cppcheck_justify{unusedVariable} false-positive: variable is used */</span></div>
<div class="line">    <span class="comment">//cppcheck-suppress unusedVariable</span></div>
<div class="line">    int32_t transferOK;</div>
<div class="line">    <span class="comment">/* @cppcheck_justify{unusedVariable} false-positive: variable is used */</span></div>
<div class="line">    <span class="comment">//cppcheck-suppress unusedVariable</span></div>
<div class="line">    UART_Transaction transaction;</div>
<div class="line"> </div>
<div class="line">    UART_Transaction_init(&amp;transaction);</div>
<div class="line"> </div>
<div class="line">    OSAL_MEMORY_memset(aOutStream_s, 0, <span class="keyword">sizeof</span>(aOutStream_s));</div>
<div class="line">    (void)vsnprintf(aOutStream_s, <span class="keyword">sizeof</span>(aOutStream_s), pFormat_p, argptr_p);</div>
<div class="line"> </div>
<div class="line">    transaction.count = strlen(aOutStream_s);</div>
<div class="line">    transaction.buf = (<span class="keywordtype">void</span> *)aOutStream_s;</div>
<div class="line">    transaction.args = NULL;</div>
<div class="line">    transferOK = UART_write(gUartHandle[PRINTF_UART_CALLBACK_INSTANCE], &amp;transaction);</div>
<div class="line"> </div>
<div class="line">    (void)transferOK;</div>
<div class="line">}</div>
</div><!-- fragment --><p><img src="CUST_DRIVERS_init.svg" alt="" style="pointer-events: none;" height="auto" class="inline"/></p>
<h2><a class="anchor" id="EI_APP_TASK_init"></a>
EI_APP_TASK_init()</h2>
<p>Following the driver initialitzation, a set of functions that implement CIP device profile or vendor-specific functionality is registered, see <code>deviceProfiles/app_device_profile.c</code>.</p>
<p>The final EtherNet/IP adapter is created and initialized in <code>EI_APP_TASK_init()</code> which is also located in <code>appTask.c</code>. Note that here only default objects and instances are created:</p>
<h3><a class="anchor" id="DefaultObjects"></a>
Default Objects implemented by all Examples</h3>
<h4><a class="anchor" id="IdentityObject"></a>
Identity Object (Class Code: 0x01)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>2  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Vendor ID </td><td>UINT </td><td>Default: 806 [0x0326]  </td></tr>
<tr>
<td>2 </td><td>Device Type </td><td>UINT </td><td>Default: depending on particular example  </td></tr>
<tr>
<td>3 </td><td>Product Code </td><td>UINT </td><td>Default: depending on particular example  </td></tr>
<tr>
<td>4 </td><td>Revision </td><td>UDINT </td><td>Default: depending on particular example  </td></tr>
<tr>
<td>5 </td><td>Status </td><td>WORD </td><td></td></tr>
<tr>
<td>6 </td><td>Serial Number </td><td>UDINT </td><td></td></tr>
<tr>
<td>7 </td><td>Product Name </td><td>SHORT_STRING </td><td>Default: depending on particular example  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>The Get_Attribute_All service returns Attribute ID 1 to 22. For Attribute IDs 8 and above only default values are returned as they are currently not implemented.</dd></dl>
<h4><a class="anchor" id="MessageRouterObject"></a>
Message Router Object (Class Code: 0x02)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>1  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Instance Attributes of the Message Router Object are optional and not supported by the EtherNet/IP stack.</dd></dl>
<h4><a class="anchor" id="ConnectionManagerObject"></a>
Connection Manager Object (Class Code: 0x06)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>1  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Instance Attributes of the Connection Manager Object are optional and not externally accessible via EtherNet/IP stack Get or Set services. The EtherNet/IP stack implements revision 1 of the Connection Manager Object. Concurrent connections are currently not supported.</dd></dl>
<h4><a class="anchor" id="TimeSyncObject"></a>
Time Sync Object (Class Code: 0x43)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>4  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>PTPEnable </td><td>BOOL </td><td></td></tr>
<tr>
<td>2 </td><td>IsSynchronized </td><td>BOOL </td><td></td></tr>
<tr>
<td>3 </td><td>SystemTimeMicroseconds </td><td>UTIME </td><td></td></tr>
<tr>
<td>4 </td><td>SystemTimeNanoseconds </td><td>STIME </td><td></td></tr>
<tr>
<td>5 </td><td>OffsetFromMaster </td><td>NTIME </td><td></td></tr>
<tr>
<td>6 </td><td>MaxOffsetFromMaster </td><td>ULINT </td><td></td></tr>
<tr>
<td>7 </td><td>MeanPathDelayToMaster </td><td>NTIME </td><td></td></tr>
<tr>
<td>8 </td><td>GrandMasterClockInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>9 </td><td>ParentClockInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>10 </td><td>LocalClockInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>11 </td><td>NumberOfPorts </td><td>UINT </td><td></td></tr>
<tr>
<td>12 </td><td>PortStateInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>13 </td><td>PortEnableCfg </td><td>STRUCT </td><td></td></tr>
<tr>
<td>14 </td><td>PortLogAnnounceIntervalCfg </td><td>STRUCT </td><td></td></tr>
<tr>
<td>15 </td><td>PortLogSyncIntervalCfg </td><td>STRUCT </td><td></td></tr>
<tr>
<td>16 </td><td>Priority1 </td><td>USINT </td><td></td></tr>
<tr>
<td>17 </td><td>Priority2 </td><td>USINT </td><td></td></tr>
<tr>
<td>18 </td><td>DomainNumber </td><td>USINT </td><td></td></tr>
<tr>
<td>19 </td><td>ClockType </td><td>WORD </td><td></td></tr>
<tr>
<td>20 </td><td>ManufactureIdentity </td><td>USINT[4] </td><td></td></tr>
<tr>
<td>21 </td><td>ProductDescription </td><td>STRUCT </td><td></td></tr>
<tr>
<td>22 </td><td>RevisionData </td><td>STRUCT </td><td></td></tr>
<tr>
<td>23 </td><td>UserDescription </td><td>STRUCT </td><td></td></tr>
<tr>
<td>24 </td><td>PortProfileIdentityInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>25 </td><td>PortPhysicalAddressInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>26 </td><td>PortProtocolAddressInfo </td><td>STRUCT </td><td></td></tr>
<tr>
<td>27 </td><td>StepsRemoved </td><td>UINT </td><td></td></tr>
<tr>
<td>28 </td><td>SystemTimeAndOffset </td><td>STRUCT </td><td></td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Note that the Time Sync Object is only avaialble if <code>TIME_SYNC</code> is defined in the list of predefined symbols of the main example project in Code Composer Studio (Properties &rarr; Build &rarr; Arm Compiler &rarr; Pedefined Symbols).</dd></dl>
<h4><a class="anchor" id="DeviceLevelRingObject"></a>
Device Level Ring (DLR) Object (Class Code: 0x47)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>3  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Network Topology </td><td>USINT </td><td></td></tr>
<tr>
<td>2 </td><td>Network Status </td><td>USINT </td><td></td></tr>
<tr>
<td>10 </td><td>Active Supervisor Address </td><td>STRUCT </td><td></td></tr>
<tr>
<td>12 </td><td>Capability Flags </td><td>DWORD </td><td>0x82 (Beacon-based Ring Node, Flush_Table frame Capable)  </td></tr>
</table>
<h4><a class="anchor" id="QualityOfServiceObject"></a>
QoS Object (Class Code: 0x48)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>1  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>2 </td><td>DSCP PTP Event </td><td>USINT </td><td>Default: 59 ('111011')  </td></tr>
<tr>
<td>3 </td><td>DSCP PTP General </td><td>USINT </td><td>Default: 47 ('101111')  </td></tr>
<tr>
<td>4 </td><td>DSCP Urgent </td><td>USINT </td><td>Default: 55 ('110111')  </td></tr>
<tr>
<td>5 </td><td>DSCP Scheduled </td><td>USINT </td><td>Default: 47 ('101111')  </td></tr>
<tr>
<td>6 </td><td>DSCP High </td><td>USINT </td><td>Default: 43 ('101011')  </td></tr>
<tr>
<td>7 </td><td>DSCP Low </td><td>USINT </td><td>Default: 31 ('011111')  </td></tr>
<tr>
<td>8 </td><td>DSCP Explicit </td><td>USINT </td><td>Default: 27 ('011011')  </td></tr>
</table>
<h4><a class="anchor" id="TcpIpInterfaceObject"></a>
TCP/IP Interface Object (Class Code: 0xF5)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>2  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Status </td><td>DWORD </td><td>Default: BOOTP/DHCP/NVS  </td></tr>
<tr>
<td>2 </td><td>Configuration Capability </td><td>DWORD </td><td>Default: 0x00000095 (BOOTP Client, DHCP Client, Configuration Settable, ACD Capable)  </td></tr>
<tr>
<td>3 </td><td>Configuration Control </td><td>DWORD </td><td>Default: 0x00000000 (Configuration Method: Static IP)  </td></tr>
<tr>
<td>4 </td><td>Physical Link Object </td><td>STRUCT </td><td></td></tr>
<tr>
<td>5 </td><td>Interface Configuration </td><td>STRUCT </td><td>Default<br  />
 IP Address: 192.168.1.10<br  />
 Network Mask: 255.255.255.0<br  />
 Gateway Address: 192.168.1.1<br  />
 Name Server: 0.0.0.0<br  />
 Name Server 2: 0.0.0.0<br  />
 Domain Name:ü  </td></tr>
<tr>
<td>6 </td><td>Host Name </td><td>STRING </td><td>Default:  </td></tr>
<tr>
<td>8 </td><td>TTL Value </td><td>USINT </td><td>Default: 1  </td></tr>
<tr>
<td>9 </td><td>Mcast Config </td><td>STRUCT </td><td>Default<br  />
 Num Mcast: 32<br  />
 Mcast Start Addr: 239.192.2.32   </td></tr>
<tr>
<td>10 </td><td>SelectAcd </td><td>BOOL </td><td>Default: 1  </td></tr>
<tr>
<td>11 </td><td>LastConflictDetected </td><td>STRUCT </td><td></td></tr>
<tr>
<td>12 </td><td>EtherNet/IP QuickConnect </td><td>BOOL </td><td>Default: 0  </td></tr>
<tr>
<td>13 </td><td>Encapsulation Inactivity Timeout </td><td>UINT </td><td>Default: 120  </td></tr>
</table>
<h4><a class="anchor" id="EthernetLinkObject"></a>
Ethernet Link Object (Class Code: 0xF6)</h4>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Revision </td><td>UINT </td><td>4  </td></tr>
<tr>
<td>2 </td><td>Max Instance </td><td>UINT </td><td>2  </td></tr>
<tr>
<td>3 </td><td>Number of Instances </td><td>UINT </td><td>2  </td></tr>
</table>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>1 </td><td>Interface Speed </td><td>UDINT </td><td>Default:  </td></tr>
<tr>
<td>2 </td><td>Interface Flags </td><td>DWORD </td><td>Default:  </td></tr>
<tr>
<td>3 </td><td>Physical Address </td><td>USINT[6] </td><td></td></tr>
<tr>
<td>4 </td><td>Interface Counters </td><td>STRUCT </td><td></td></tr>
<tr>
<td>5 </td><td>Media Counters </td><td>STRUCT </td><td>Allways 0  </td></tr>
<tr>
<td>6 </td><td>Interface Control </td><td>STRUCT </td><td></td></tr>
<tr>
<td>7 </td><td>Interface Type </td><td>USINT </td><td>Default: Twisted-pair  </td></tr>
<tr>
<td>8 </td><td>Interface State </td><td>USINT </td><td>Default:  </td></tr>
<tr>
<td>9 </td><td>Admin State </td><td>USINT </td><td>Default: enable  </td></tr>
<tr>
<td>10 </td><td>Interface Label </td><td>SHORT_STRING </td><td>Default: Port 1|2  </td></tr>
<tr>
<td>11 </td><td>Interface Capability </td><td>STRUCT </td><td>Default: Port 1|2  </td></tr>
</table>
<p><img src="EI_APP_TASK_init.svg" alt="" style="pointer-events: none;" height="auto" class="inline"/></p>
<h1><a class="anchor" id="eip_quickstart_example_profiles"></a>
Device Profile Example Implementations</h1>
<p>At the time of release, code examples are provided for a CIP Generic Device (Device Type 0x2B) and a CIP General Purpose Discrete I/O Device (Device Type: 0x07) according to <a href="index.html#vol1">Volume 1</a> Chapter 6 of the CIP NETWORKS LIBRARY.</p>
<p>The file structure below the <code>deviceProfiles</code> subdirectory is shown in the diagram below.</p>
<p><img src="eip_directory_structure_examples.svg" alt="" style="pointer-events: none;" class="inline"/></p>
<h2><a class="anchor" id="eip_quickstart_example_generic_device"></a>
Generic Device (Device Type: 0x2B)</h2>
<p>The Generic Device profile does not specify any instances of the Assembly Object or the type of application objects necessary for device operation. This portion of the device profile must be supplied by the product developer and in this example focuses on digital I/O functionality via an LED array available on the evaluation board. The Generic Device example does not cover CIP Sync functionality.</p>
<p>See <a class="el" href="eip_example_generic_device.html">Generic Device (Device Type: 0x2B)</a> for details.</p>
<h2><a class="anchor" id="eip_quickstart_example_general_purpose_discrete_io_device"></a>
General Purpose Discrete I/O Device (Device Type: 0x07)</h2>
<p>A General Purpose Discrete I/O device type interfaces to multiple discrete I/O device types that do not have network capabilities. Examples include sensors and actuators. The example provided with the EtherNet/IP adapter SDK implements a Discrete Input Point Object (Class Code: 0x08), a Discrete Output Point Object (Class Code: 0x09), with two instances each and a simple example of a Configuration Assembly for the Discrete Output Point Object.</p>
<p>See <a class="el" href="eip_example_general_purpose_discrete_io_device.html">General Purpose Discrete I/O Device (Device Type: 0x07)</a> for details.</p>
<h1><a class="anchor" id="exampleWebServer"></a>
Web Server Task</h1>
<p>The EtherNet/IP stack contains an example how to implement a small HTTP server application. The corresonding code can be found in the files <code>appWebServer.c</code>, <code>appWebServer.h</code>, and appWebServerData.h. The HTML definitions for the page layout are contained in appWebServerData.h.</p>
<p>The web server and the corresponding background task are enabled by setting <code>CPU_LOAD_MONITOR == 1</code> (default: <code>CPU_LOAD_MONITOR == 0</code>) in the list of predefined symbols of the main example project in Code Composer Studio (Properties &rarr; Build &rarr; Arm Compiler &rarr; Pedefined Symbols).</p>
<p>To reach the example web page enter the IP address of the EtherNet/IP Adapter device (default: 192.168.1.10) into a web browser.</p>
<p><img src="app_web_server.png" alt="" border="1" height="auto" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>

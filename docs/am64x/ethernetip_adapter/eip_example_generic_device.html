<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<title>EtherNet/IP™ Adapter: Generic Device (Device Type: 0x2B)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="ReleaseNotes.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> EtherNet/IP™ Adapter<span id="projectnumber">3.04.02</span></div></td>
         <td id="projectbrief" align="right"><img src=EtherNetIP.png /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('eip_example_generic_device.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Generic Device (Device Type: 0x2B)</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#eip_example_generic_device_scope">Scope</a></li>
<li class="level1"><a href="#exampleCipSetup">Create Vendor-Specific Content</a><ul><li class="level2"><a href="#exampleCipInstanceAttributes">Vendor-Specific Instance Attributes</a></li>
<li class="level2"><a href="#AssemblyObject">Assembly Object (Class Code: 0x04)</a></li>
</ul>
</li>
<li class="level1"><a href="#CyclicRunFunction">Cyclic Run Function</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="eip_example_generic_device_scope"></a>
Scope</h1>
<p>The Generic Device profile according to <a href="index.html#vol1">Volume 1</a> Chapter 6 of the CIP NETWORKS LIBRARY does not specify any specific instances of the Assembly Object or the type of application objects necessary for device operation. This portion of the device profile must be supplied by the product developer and in this example focuses on digital I/O functionality via an LED array available on the evaluation board. The Generic Device example does not discuss CIP Sync functionality.</p>
<p>As such the Generic Device is commonly used for vendor-specific device implementation that do not match any of the standard profiles specify by ODVA.</p>
<p>The profile specific elements of this example are implemented in <code>deviceProfiles\genericDevice\app_generic_device.c</code> with board specific functionality located in <code>appNV.c</code> and below  <code>board\am64x-evm\freertos</code>. </p>
<h1><a class="anchor" id="exampleCipSetup"></a>
Create Vendor-Specific Content</h1>
<p><img src="EI_APP_GENERIC_DEVICE_cipSetup.svg" alt="" style="pointer-events: none;" height="auto" class="inline"/></p>
<p>In EI_APP_GENERIC_DEVICE_cipGenerateContent() the Generic Device example creates a vendor-specific object with Class ID 0x70 and Instance ID 0x01. Within instance 0x01 the creation of the following attributes with different data types is demonstrated. As Attribute IDs values from the Vendor Specific range between 0x300 - 0x4FF are used, see also <b>Table 4-10.6 Instance Attribute ID Range</b> in <a href="index.html#vol1">Volume 1</a>.</p>
<h2><a class="anchor" id="exampleCipInstanceAttributes"></a>
Vendor-Specific Instance Attributes</h2>
<p><img src="EI_APP_GENERIC_DEVICE_cipGenerateContent.svg" alt="" style="pointer-events: none;" height="auto" class="inline"/></p>
<div class="fragment"><div class="line">::</div>
<div class="line"> </div>
<div class="line">uint64_t attribID = 0x300;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 64 USINT (uint8_t).</span></div>
<div class="line"><span class="keywordflow">for</span> (i = 0; i &lt; 64; i++)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_e_i___a_p_i___c_i_p___s_attr.html">EI_API_CIP_SAttr_t</a> attr;</div>
<div class="line">    OSAL_MEMORY_memset(&amp;attr, 0, <span class="keyword">sizeof</span>(attr));</div>
<div class="line">    attr.<a class="code hl_variable" href="struct_e_i___a_p_i___c_i_p___s_attr_a4fc3a0c58dfbd1e68224521185cb9384.html#a4fc3a0c58dfbd1e68224521185cb9384">id</a> = attribID;</div>
<div class="line">    attr.<a class="code hl_variable" href="struct_e_i___a_p_i___c_i_p___s_attr_a3116f6270c855d146f8c00e2d524e016.html#a3116f6270c855d146f8c00e2d524e016">edt</a> = <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6f936860c4c525a9b7a3b4efa5685870.html#gga6f936860c4c525a9b7a3b4efa5685870aa6c72b7141a9331b17f41deab63e8e14">EI_API_CIP_eEDT_USINT</a>;</div>
<div class="line">    attr.<a class="code hl_variable" href="struct_e_i___a_p_i___c_i_p___s_attr_a375dfc4f582f42b972fe4f969e974baa.html#a375dfc4f582f42b972fe4f969e974baa">accessRule</a> = <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aaa228dcb5ade1ac4d49e80c8150e69048">EI_API_CIP_eAR_GET_AND_SET</a>;</div>
<div class="line">    attr.<a class="code hl_variable" href="struct_e_i___a_p_i___c_i_p___s_attr_ad3cca68202c7be4d6c911a1ef429af44.html#ad3cca68202c7be4d6c911a1ef429af44">pvValue</a> = &amp;i;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gabea94deb695eab7e87a7da01322a033f.html#gabea94deb695eab7e87a7da01322a033f">EI_API_CIP_addInstanceAttr</a>(cipNode, classId, instanceId, &amp;attr);</div>
<div class="line">    <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gaf167ea7b246bdef7e2e2652f6fea0942.html#gaf167ea7b246bdef7e2e2652f6fea0942">EI_API_CIP_setInstanceAttr</a>(cipNode, classId, instanceId, &amp;attr);</div>
<div class="line"> </div>
<div class="line">    attribID++;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">::</div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a_html_gga6d4a5de7271c03bbf9e5b29b0ebce54aaa228dcb5ade1ac4d49e80c8150e69048"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aaa228dcb5ade1ac4d49e80c8150e69048">EI_API_CIP_eAR_GET_AND_SET</a></div><div class="ttdeci">@ EI_API_CIP_eAR_GET_AND_SET</div><div class="ttdef"><b>Definition</b> EI_API_def.h:119</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6f936860c4c525a9b7a3b4efa5685870_html_gga6f936860c4c525a9b7a3b4efa5685870aa6c72b7141a9331b17f41deab63e8e14"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6f936860c4c525a9b7a3b4efa5685870.html#gga6f936860c4c525a9b7a3b4efa5685870aa6c72b7141a9331b17f41deab63e8e14">EI_API_CIP_eEDT_USINT</a></div><div class="ttdeci">@ EI_API_CIP_eEDT_USINT</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:101</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gabea94deb695eab7e87a7da01322a033f_html_gabea94deb695eab7e87a7da01322a033f"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gabea94deb695eab7e87a7da01322a033f.html#gabea94deb695eab7e87a7da01322a033f">EI_API_CIP_addInstanceAttr</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_addInstanceAttr(T *pCipNode_p, uint16_t classId_p, uint16_t instanceId_p, EI_API_CIP_SAttr_t *pAttr_p)</div><div class="ttdoc">Add an attribute to an instance.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:1011</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gaf167ea7b246bdef7e2e2652f6fea0942_html_gaf167ea7b246bdef7e2e2652f6fea0942"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___i_n_s_t_a_n_c_e_gaf167ea7b246bdef7e2e2652f6fea0942.html#gaf167ea7b246bdef7e2e2652f6fea0942">EI_API_CIP_setInstanceAttr</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_setInstanceAttr(T *pCipNode_p, uint16_t classId_p, uint16_t instanceId_p, EI_API_CIP_SAttr_t *pAttr_p)</div><div class="ttdoc">Set instance attribute value only.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:1411</div></div>
<div class="ttc" id="astruct_e_i___a_p_i___c_i_p___s_attr_a3116f6270c855d146f8c00e2d524e016_html_a3116f6270c855d146f8c00e2d524e016"><div class="ttname"><a href="struct_e_i___a_p_i___c_i_p___s_attr_a3116f6270c855d146f8c00e2d524e016.html#a3116f6270c855d146f8c00e2d524e016">EI_API_CIP_SAttr::edt</a></div><div class="ttdeci">EI_API_CIP_EEdt_t edt</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:168</div></div>
<div class="ttc" id="astruct_e_i___a_p_i___c_i_p___s_attr_a375dfc4f582f42b972fe4f969e974baa_html_a375dfc4f582f42b972fe4f969e974baa"><div class="ttname"><a href="struct_e_i___a_p_i___c_i_p___s_attr_a375dfc4f582f42b972fe4f969e974baa.html#a375dfc4f582f42b972fe4f969e974baa">EI_API_CIP_SAttr::accessRule</a></div><div class="ttdeci">EI_API_CIP_EAr_t accessRule</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:170</div></div>
<div class="ttc" id="astruct_e_i___a_p_i___c_i_p___s_attr_a4fc3a0c58dfbd1e68224521185cb9384_html_a4fc3a0c58dfbd1e68224521185cb9384"><div class="ttname"><a href="struct_e_i___a_p_i___c_i_p___s_attr_a4fc3a0c58dfbd1e68224521185cb9384.html#a4fc3a0c58dfbd1e68224521185cb9384">EI_API_CIP_SAttr::id</a></div><div class="ttdeci">uint16_t id</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:167</div></div>
<div class="ttc" id="astruct_e_i___a_p_i___c_i_p___s_attr_ad3cca68202c7be4d6c911a1ef429af44_html_ad3cca68202c7be4d6c911a1ef429af44"><div class="ttname"><a href="struct_e_i___a_p_i___c_i_p___s_attr_ad3cca68202c7be4d6c911a1ef429af44.html#ad3cca68202c7be4d6c911a1ef429af44">EI_API_CIP_SAttr::pvValue</a></div><div class="ttdeci">void * pvValue</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:174</div></div>
<div class="ttc" id="astruct_e_i___a_p_i___c_i_p___s_attr_html"><div class="ttname"><a href="struct_e_i___a_p_i___c_i_p___s_attr.html">EI_API_CIP_SAttr</a></div><div class="ttdoc">General attribute parameter collection.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:166</div></div>
</div><!-- fragment --><table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Class ID 0x70, Instance 0x01, Attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>0x300 </td><td>Input1 </td><td>USINT </td><td>Default: 0x00<br  />
 Note that as the attribute value from the output parameter 0x308 is mirrored onto the input parameter 0x300 in EI_APP_GENERIC_DEVICE_run, the value that is read is actually 0x08.  </td></tr>
<tr>
<td>0x301 </td><td>Input2 </td><td>USINT </td><td>Default: 0x01<br  />
 Note that as the attribute value from the output parameter 0x309 is mirrored onto the input parameter 0x301 in EI_APP_GENERIC_DEVICE_run, the value that is read is actually 0x09.  </td></tr>
<tr>
<td>0x302 </td><td>Input3 </td><td>USINT </td><td>Default: 0x02<br  />
 Note that as the attribute value from the output parameter 0x30A is mirrored onto the input parameter 0x302 in EI_APP_GENERIC_DEVICE_run, the value that is read is actually 0x0A.  </td></tr>
<tr>
<td>0x303 </td><td>Input4 </td><td>USINT </td><td>Default: 0x03<br  />
 Note that as the attribute value from the output parameter 0x30B is mirrored onto the input parameter 0x303 in EI_APP_GENERIC_DEVICE_run, the value that is read is actually 0x0B.  </td></tr>
<tr>
<td>0x304 </td><td>Input5 </td><td>USINT </td><td>Default: 0x04<br  />
 Note that as the attribute value from the output parameter 0x30C is mirrored onto the input parameter 0x304 in EI_APP_GENERIC_DEVICE_run, the value that is read is actually 0x0C.  </td></tr>
<tr>
<td>0x305 </td><td></td><td>USINT </td><td>Default: 0x05  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x308 </td><td>Output1 </td><td>USINT </td><td>Default: 0x08  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x30C </td><td>Output5 </td><td>USINT </td><td>Default: 0x0C  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x33F </td><td></td><td>USINT </td><td>Default: 0x3F  </td></tr>
<tr>
<td style="border: none;"></td></tr>
<tr>
<td>0x340 </td><td></td><td>UINT </td><td>Default: 0x0000  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x35F </td><td></td><td>UINT </td><td>Default: 0x001F  </td></tr>
<tr>
<td style="border: none;"></td></tr>
<tr>
<td>0x360 </td><td></td><td>UDINT </td><td>Default: 0x00000000  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x36F </td><td></td><td>UDINT </td><td>Default: 0x0000000F  </td></tr>
<tr>
<td style="border: none;"></td></tr>
<tr>
<td>0x370 </td><td></td><td>ULINT </td><td>Default: 0x0000000000000000  </td></tr>
<tr>
<td colspan="4">&hellip;  </td></tr>
<tr>
<td>0x377 </td><td></td><td>ULINT </td><td>Default: 0x0000000000000007  </td></tr>
</table>
<p>Attributes are created with both Set and Get acces permission.</p>
<h2><a class="anchor" id="AssemblyObject"></a>
Assembly Object (Class Code: 0x04)</h2>
<p>Finally assemblies are created and Attributes 0x300 - 0x304 and 0x308 - 0x30C are added to the Producing, respectively Consuming Assembly.</p>
<div class="fragment"><div class="line">::</div>
<div class="line"> </div>
<div class="line">errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876.html#gae326b5d63940d2178bbe10e7a0393876">EI_API_CIP_createAssembly</a>(pCipNode, 0xfe, <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aab59db07c6529c6e545466e218b0ce393">EI_API_CIP_eAR_GET</a>); <span class="comment">// Input-only.</span></div>
<div class="line">errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876.html#gae326b5d63940d2178bbe10e7a0393876">EI_API_CIP_createAssembly</a>(pCipNode, 0xff, <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aab59db07c6529c6e545466e218b0ce393">EI_API_CIP_eAR_GET</a>); <span class="comment">// Listen-only.</span></div>
<div class="line"> </div>
<div class="line">errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876.html#gae326b5d63940d2178bbe10e7a0393876">EI_API_CIP_createAssembly</a>(pCipNode, 0x64, <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aaa228dcb5ade1ac4d49e80c8150e69048">EI_API_CIP_eAR_GET_AND_SET</a>);</div>
<div class="line">errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876.html#gae326b5d63940d2178bbe10e7a0393876">EI_API_CIP_createAssembly</a>(pCipNode, 0x65, <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aaa228dcb5ade1ac4d49e80c8150e69048">EI_API_CIP_eAR_GET_AND_SET</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (i = 0x300; i &lt; 0x305; i++)</div>
<div class="line">{</div>
<div class="line">    errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_ga8b88d1d7f127b7a6d2365c78c03fef33.html#ga8b88d1d7f127b7a6d2365c78c03fef33">EI_API_CIP_addAssemblyMember</a>(pCipNode, 0x64, classId, instanceId, i);</div>
<div class="line">    <span class="keywordflow">if</span> (errCode != <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0.html#gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904">EI_API_CIP_eERR_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        OSAL_printf(<span class="stringliteral">&quot;Failed to add Class ID %#x, Instance ID %#x, Attribute ID %#x to Assembly Instance 0x64:  Error code: 0x%08x\n&quot;</span>, classId, instanceId, (uint16_t)i, errCode);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_ga8b88d1d7f127b7a6d2365c78c03fef33.html#ga8b88d1d7f127b7a6d2365c78c03fef33">EI_API_CIP_addAssemblyMember</a>(pCipNode, 0x65, classId, instanceId, (uint16_t)(8 + i));</div>
<div class="line">    <span class="keywordflow">if</span> (errCode != <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0.html#gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904">EI_API_CIP_eERR_OK</a>) {</div>
<div class="line">        OSAL_printf(<span class="stringliteral">&quot;Failed to add Class ID %#x, Instance ID %#x, Attribute ID %#x to Assembly Instance 0x65:  Error code: 0x%08x\n&quot;</span>, classId, instanceId, (uint16_t)(8 + i), errCode);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">::</div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_ga8b88d1d7f127b7a6d2365c78c03fef33_html_ga8b88d1d7f127b7a6d2365c78c03fef33"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_ga8b88d1d7f127b7a6d2365c78c03fef33.html#ga8b88d1d7f127b7a6d2365c78c03fef33">EI_API_CIP_addAssemblyMember</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_addAssemblyMember(T *pCipNode_p, uint16_t assemblyInstanceId_p, uint16_t classId_p, uint16_t instanceId_p, uint16_t attributeId_p)</div><div class="ttdoc">Add an member to an assembly member list.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:4245</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876_html_gae326b5d63940d2178bbe10e7a0393876"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___a_s_s_e_m_b_l_y_gae326b5d63940d2178bbe10e7a0393876.html#gae326b5d63940d2178bbe10e7a0393876">EI_API_CIP_createAssembly</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_createAssembly(T *pCipNode_p, uint16_t assemblyInstanceId_p, EI_API_CIP_EAr_t accessRule_p)</div><div class="ttdoc">Create a new assembly instance.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:4124</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a_html_gga6d4a5de7271c03bbf9e5b29b0ebce54aab59db07c6529c6e545466e218b0ce393"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___e_n_u_m_e_r_a_t_i_o_n_s_ga6d4a5de7271c03bbf9e5b29b0ebce54a.html#gga6d4a5de7271c03bbf9e5b29b0ebce54aab59db07c6529c6e545466e218b0ce393">EI_API_CIP_eAR_GET</a></div><div class="ttdeci">@ EI_API_CIP_eAR_GET</div><div class="ttdoc">Attribute is gettable.</div><div class="ttdef"><b>Definition</b> EI_API_def.h:118</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0_html_gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0.html#gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904">EI_API_CIP_eERR_OK</a></div><div class="ttdeci">@ EI_API_CIP_eERR_OK</div><div class="ttdef"><b>Definition</b> EI_API_CIP_define.h:30</div></div>
</div><!-- fragment --><p>For all instances of the Assembly Object (0x64, 0x65, 0xFE, 0xFF) the following Instance Attribute is implemented:</p>
<table class="doxtable" style="width: calc(100% - 160px); min-width: 800px; max-width: 1280px;">
<caption>Instance attributes</caption>
<tr>
<th style="width:20%;">Attribute ID </th><th style="width:20%;">Name </th><th style="width:20%;">Data Type </th><th style="width:40%;">Value  </th></tr>
<tr>
<td>3 </td><td>Data </td><td>ARRAY of octet </td><td></td></tr>
</table>
<p>In the EDS files shipped with the example this is reflected in the fragments below:</p>
<div class="fragment"><div class="line">::</div>
<div class="line"> </div>
<div class="line">[Params]</div>
<div class="line">        Param1 =</div>
<div class="line">                0,                      $ first field shall equal 0</div>
<div class="line">                7,&quot;20 70 24 01 31 08 03&quot;,    $ path size,path</div>
<div class="line">                0x0000,                 $ descriptor</div>
<div class="line">                0xC6,                   $ data type</div>
<div class="line">                1,                      $ data size in bytes</div>
<div class="line">                &quot;Output1&quot;,              $ name</div>
<div class="line">                &quot;&quot;,                     $ units</div>
<div class="line">                &quot;Output Byte 1&quot;,        $ help string</div>
<div class="line">                ,,0,                    $ min, max, default data values</div>
<div class="line">                ,,,,                    $ mult, dev, base, offset scaling not used</div>
<div class="line">                ,,,,                    $ mult, dev, base, offset link not used</div>
<div class="line">                0;                      $ decimal places not used</div>
<div class="line">        Param2 =</div>
<div class="line">                0,                      $ reserved, shall equal 0</div>
<div class="line">                7,&quot;20 70 24 01 31 09 03&quot;,    $ Link Path Size, Link Path</div>
<div class="line">                0x0000,                 $ Descriptor</div>
<div class="line">                0xC6,                   $ Data Type</div>
<div class="line">                1,                      $ Data Size in bytes</div>
<div class="line">                &quot;Output2&quot;,              $ name</div>
<div class="line">                &quot;&quot;,                     $ units</div>
<div class="line">                &quot;Output Byte 2&quot;,        $ help string</div>
<div class="line">                ,,0,                    $ min, max, default data values</div>
<div class="line">                ,,,,                    $ mult, div, base, offset scaling</div>
<div class="line">                ,,,,                    $ mult, div, base, offset links</div>
<div class="line">                ;                       $ decimal places</div>
<div class="line"> </div>
<div class="line">::</div>
<div class="line"> </div>
<div class="line">[Assembly]</div>
<div class="line">        Object_Name = &quot;Assembly Object&quot;;</div>
<div class="line">        Object_Class_Code = 0x04;</div>
<div class="line">        MaxInst = 2;</div>
<div class="line">        Number_Of_Static_Instances = 2;</div>
<div class="line">        Max_Number_Of_Dynamic_Instances = 0;</div>
<div class="line">        Assem1 =</div>
<div class="line">                &quot;Producing Assembly (Input Data)&quot;,</div>
<div class="line">                ,</div>
<div class="line">                5,</div>
<div class="line">                0x0001,</div>
<div class="line">                ,,</div>
<div class="line">                8,Param11,</div>
<div class="line">                8,Param12,</div>
<div class="line">                8,Param13,</div>
<div class="line">                8,Param14,</div>
<div class="line">                8,Param15;</div>
<div class="line">        Assem2 =</div>
<div class="line">                &quot;Consuming Assembly (Output Data)&quot;,</div>
<div class="line">                ,</div>
<div class="line">                5,</div>
<div class="line">                0x0001,</div>
<div class="line">                ,,</div>
<div class="line">                8,Param1,</div>
<div class="line">                8,Param2,</div>
<div class="line">                8,Param3,</div>
<div class="line">                8,Param4,</div>
<div class="line">                8,Param5;</div>
<div class="line"> </div>
<div class="line">::</div>
</div><!-- fragment --><h2><a class="anchor" id="CyclicRunFunction"></a>
Cyclic Run Function</h2>
<p>In the cyclically called EI_APP_GENERIC_DEVICE_run function, the attribute values for the first five attributes used for process data out (0x308 - 0x30C) are mirrored onto the attributes used for process data in. Also, the first process data out attribute is connected to the industrial LED array implemented on the Texas Instruments evaluation boards.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> EI_APP_GENERIC_DEVICE_run(EI_API_CIP_NODE_T* pCipNode)</div>
<div class="line">{</div>
<div class="line">    uint32_t errCode   = <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0.html#gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904">EI_API_CIP_eERR_OK</a>;</div>
<div class="line">    uint8_t  attrValue = 0;</div>
<div class="line">    uint16_t attr;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Mirror I/O data.</span></div>
<div class="line">    <span class="keywordflow">for</span>(attr = 0; attr &lt; 5; attr++)</div>
<div class="line">    {</div>
<div class="line">        errCode = <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_t_t_r___g_e_t_gacfc9affe7b46607b57bc7fd8483eee87.html#gacfc9affe7b46607b57bc7fd8483eee87">EI_API_CIP_getAttr_usint</a>(pCipNode, 0x0070, 0x0001, attr + 0x0308, &amp;attrValue);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (attr == 0 &amp;&amp; errCode == <a class="code hl_enumvalue" href="group___e_i___a_p_i___c_i_p___e_r_r_o_r___c_o_d_e_s_ga02294b9fe8c2e4bfb42848eb393dafc0.html#gga02294b9fe8c2e4bfb42848eb393dafc0a767c419adc819b60c9927fed7d07e904">EI_API_CIP_eERR_OK</a>)</div>
<div class="line">        {</div>
<div class="line">            CUST_DRIVERS_LED_setIndustrialLeds(attrValue);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="group___e_i___a_p_i___c_i_p___a_t_t_r___s_e_t_gad99beb04e42d21c5db8fb77a6bd83dc0.html#gad99beb04e42d21c5db8fb77a6bd83dc0">EI_API_CIP_setAttr_usint</a>(pCipNode, 0x0070, 0x0001, attr + 0x0300, attrValue);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___a_t_t_r___g_e_t_gacfc9affe7b46607b57bc7fd8483eee87_html_gacfc9affe7b46607b57bc7fd8483eee87"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___a_t_t_r___g_e_t_gacfc9affe7b46607b57bc7fd8483eee87.html#gacfc9affe7b46607b57bc7fd8483eee87">EI_API_CIP_getAttr_usint</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_getAttr_usint(T *pCipNode_p, uint16_t classId_p, uint16_t instanceId_p, uint16_t attrId_p, ei_api_cip_edt_usint *pValue_p)</div><div class="ttdoc">Get attribute of type USINT.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:1898</div></div>
<div class="ttc" id="agroup___e_i___a_p_i___c_i_p___a_t_t_r___s_e_t_gad99beb04e42d21c5db8fb77a6bd83dc0_html_gad99beb04e42d21c5db8fb77a6bd83dc0"><div class="ttname"><a href="group___e_i___a_p_i___c_i_p___a_t_t_r___s_e_t_gad99beb04e42d21c5db8fb77a6bd83dc0.html#gad99beb04e42d21c5db8fb77a6bd83dc0">EI_API_CIP_setAttr_usint</a></div><div class="ttdeci">ETHIP_API uint32_t EI_API_CIP_setAttr_usint(T *pCipNode_p, uint16_t classId_p, uint16_t instanceId_p, uint16_t attrId_p, ei_api_cip_edt_usint value_p)</div><div class="ttdoc">Set attribute of type USINT.</div><div class="ttdef"><b>Definition</b> EI_API_CIP_stub.c:3231</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>

<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>IO-Link Master: API without SMI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> IO-Link Master<span id="projectnumber">1.09.06</span></div></td>
         <td id="projectbrief" align="right"><img src=IOLinkLogoIcon.PNG /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_api.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">API without SMI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section provides an overview of all interface functions that can be used with the SMI disabled. The great advantage of SMI is that most of the API functionality is handled by the SMI and doesn't have to be set manually. To deactivate the SMI, the <a class="el" href="group__group__iolm__port__definition.html#ga198c31c91fca3f459ed4071d8584bd9c" title="Enable SMI.">IOLM_SMI_ENABLED</a> definition must be set to 0. For more details, see the corresponding function descriptions and the following sections.</p>
<h1><a class="anchor" id="section_api_general"></a>
General API</h1>
<p>The stack needs to be initialized once during startup with the following function:</p>
<ul>
<li><a class="el" href="group__grp__api__general.html#ga85f1d5d20881067c622648e260e6f531" title="Initialize stack.">IOLM_API_eInit()</a></li>
</ul>
<p>To proceed the internal state machines and send notifications to the application layer, the main run function must be called periodically. This must be done at least once during an IO-Link cycle.</p>
<ul>
<li><a class="el" href="group__grp__api__general.html#ga2f75f69ef005ee175e28142175c94157" title="Mainloop run.">IOLM_API_vRun()</a></li>
</ul>
<h1><a class="anchor" id="section_api_Timing"></a>
Timing API</h1>
<p>The following functions are used for timing:</p>
<ul>
<li><a class="el" href="group__grp__api__port.html#ga1602161a944a9a7f5b380466011c063b" title="Port timer expired.">IOLM_API_vTimerExpired()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga5048c43ab45f1f2bcf4571605f41f24b" title="Start port hardware timer.">IOLM_Port_vStartTimer()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga65eb361bc638770d50681bd9977cfedc" title="Get SysTick value.">IOLM_Port_s32SysTickVal()</a></li>
</ul>
<p>For details see <a class="el" href="page_hwport.html#sect_hwport_timer">Timer System</a>.</p>
<h1><a class="anchor" id="section_pl_api_functions"></a>
Physical Layer API</h1>
<p>The following functions are used to access the physical layer:</p>
<ul>
<li><a class="el" href="group__grp__api__port.html#ga672eff8888c365335698c7f57d1c5f8e" title="Data receive processing finished.">IOLM_API_PL_vTransferInd()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga99b0043dd21e95f9e7e6b3c319f1b5d7" title="Set physical layer mode.">IOLM_Port_PL_vSetMode()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga865affd649eb1c84815ab7637370e162" title="Send wake-up pulse.">IOLM_Port_PL_eWakeUp()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga9afd4162850ee3fbf6b0e4febcdfb13a" title="Acknowledge wake-up.">IOLM_API_PL_u8WakeAck()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga583483ea6397e01bf9a0502d05524d4b" title="Prepare data exchange.">IOLM_Port_PL_vTransferPrepare()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga3c426594ce09a3fc95e3bbeab3b5dec2" title="Start frame transmission.">IOLM_Port_PL_vTransferTrig()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga5e6b41e27f9b16554a7cd23fa2eb1581" title="Get input pin value.">IOLM_Port_PL_boGetDI()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga7642bf9f1e7e996fb4c1a08dabd921a3" title="Set output pin value.">IOLM_Port_PL_vSetDO()</a></li>
</ul>
<p>For details see <a class="el" href="page_hwport.html#sect_hwport_pl">Physical Layer</a>.</p>
<h2><a class="anchor" id="section_api_configuration"></a>
Port Configuration</h2>
<p>The configuration of device specific stack values (like <a class="el" href="group__group__iolm__port__definition.html#gab2bf19bb72577e08170754784cbf341c" title="Number of ports, which are operated by the IO-Link Master.">IOLM_PORT_COUNT</a> for the number of available ports on the Master, IOLM_SMI_ENABLED, etc.) needs to be set in <a class="el" href="group__group__iol__port__definition.html">IO-Link Port Definitions</a> and in <a class="el" href="group__group__iolm__port__definition.html">IO-Link Master Port Definitions</a>.</p>
<h1><a class="anchor" id="section_sm_api_functions"></a>
System Management API</h1>
<p>The System Management is used to configure the port modes and indicate their current state.</p>
<ul>
<li><a class="el" href="group__grp__api__sm.html#ga3956dec36e2e87b07ae588625c89e6d5" title="Port setup.">IOLM_API_SM_eSetPortConfig()</a></li>
<li><a class="el" href="group__grp__api__sm.html#gae832a259c36c33f9d61e1203dd0d8896" title="Get actual port configuration.">IOLM_API_SM_eGetPortConfig()</a></li>
<li><a class="el" href="group__grp__api__sm.html#ga5a0b40ff1998ac9191aac9820f7e45d6" title="Set all ready ports into OPERATE mode.">IOLM_API_SM_eOperate()</a></li>
<li><a class="el" href="group__grp__api__sm.html#ga34b722eb79ce8825f6fb11cdc6c06301" title="Port mode indication.">IOLM_Port_SM_vPortMode()</a></li>
</ul>
<h1><a class="anchor" id="section_pd_api_functions"></a>
Process Data API</h1>
<p>The following functions are used to access the process image:</p>
<ul>
<li><a class="el" href="group__grp__api__pd.html#ga546074f90075f69bbf5df8b0ab232e8b" title="Read input data.">IOLM_API_AL_eGetInput()</a></li>
<li><a class="el" href="group__grp__api__pd.html#ga7414d0672ca786301c24060cd66a7771" title="Write output data.">IOLM_API_AL_eSetOutput()</a></li>
</ul>
<p>If the Port is in a SIO Mode, the process image length is 1 byte and used as boolean for the state of the pin.</p>
<p>The following function indicates that there is new input process image available:</p>
<ul>
<li><a class="el" href="group__grp__api__pd.html#ga8d5143f08e3503fca1d5ec8a0d9f4b14" title="New input indication.">IOLM_Port_AL_vNewInput()</a></li>
</ul>
<p>The following function indicate the end of a Process Data cycle:</p>
<ul>
<li><a class="el" href="group__grp__api__pd.html#gaf9be96ef02ec99b72d29aba9c00d7297" title="Process Data cycle.">IOLM_Port_AL_vPDCycle()</a></li>
</ul>
<p>The following functions are used to set/indicate the status of the Process Data:</p>
<ul>
<li><a class="el" href="group__grp__api__pd.html#gaa3ae6301dafcbe014660f817d97eca94" title="Send control code for PDOutStatus indication.">IOLM_API_AL_eControlReq()</a></li>
<li><a class="el" href="group__grp__api__pd.html#gaa624cd89163ec0d3df4228e82c9d1a6f" title="Control indication.">IOLM_Port_AL_vControlInd()</a></li>
</ul>
<h1><a class="anchor" id="section_isdu_api_functions"></a>
ISDU/Parameter API</h1>
<p>The ISDU/Parameter API is used to access parameters of a device. Requests are sent with the Req functions. If the request is finished (which takes multiple IO-Link cycles), the corresponding Cnf function is called with the result. If a device needs too much time to respond, the request can be aborted. There is also a auto timeout of IOL_ISDU_TIMEOUT_MS milliseconds.</p>
<ul>
<li><a class="el" href="group__grp__api__isdu.html#ga5cd1e237d30eec6b6a062baa23e24d3f" title="Send ISDU read request.">IOLM_API_AL_eReadReq()</a></li>
<li><a class="el" href="group__grp__api__isdu.html#ga7f46e638ea6459280f328bdec8891cb8" title="Send ISDU write request.">IOLM_API_AL_eWriteReq()</a></li>
<li><a class="el" href="group__grp__api__isdu.html#ga1d58b8973311032c04f0f98916341ea0" title="Abort a pending ISDU request.">IOLM_API_AL_vAbort()</a></li>
<li><a class="el" href="group__grp__api__isdu.html#gaa3e4f3e411fb1fc7ff5db2f9fda179b9" title="Read confirmation.">IOLM_Port_AL_vReadCnf()</a></li>
<li><a class="el" href="group__grp__api__isdu.html#ga96bb4f0226bc429a6ae022838a45accf" title="Write confirmation.">IOLM_Port_AL_vWriteCnf()</a></li>
</ul>
<h1><a class="anchor" id="section_evt_api_functions"></a>
Event API</h1>
<p>Events are indicated by the following function:</p>
<ul>
<li><a class="el" href="group__grp__api__evt.html#ga16de8a1e22142a205651011dfc6dc93c" title="Event indication.">IOLM_Port_AL_vEventInd()</a></li>
</ul>
<p>Events must always be acknowledged. The application will receive no further device Event until the last one is acknowledged by the following function.</p>
<ul>
<li><a class="el" href="group__grp__api__evt.html#ga32c751319969c793018239e1f2d9c7f5" title="Acknowledge Device Events.">IOLM_API_AL_vEventRsp()</a></li>
</ul>
<h1><a class="anchor" id="section_ds_api_functions"></a>
Data Storage API</h1>
<p>The following functions are used to access the Data Storage:</p>
<ul>
<li><a class="el" href="group__grp__api__ds.html#gaece6ed5b097886adfb31e94abc629473" title="Setup Data Storage mode.">IOLM_API_DS_eSet()</a></li>
<li><a class="el" href="group__grp__api__ds.html#ga807393ea6c9454a71fffab21de20c78c" title="Delete Data Storage content.">IOLM_API_DS_eDelete()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga91522102260c71e91f91fa95e002bcd2" title="Store DS content.">IOLM_Port_DS_vStoreData()</a></li>
<li><a class="el" href="group__grp__api__port.html#ga9bcf960a4f98e3cf6177f9667db6a8f1" title="None volatile store completed.">IOLM_API_DS_vStoreComplete()</a></li>
<li><a class="el" href="group__grp__api__port.html#gac94e30c44d5d0caf171ac3868cd9425b" title="Load DS content.">IOLM_Port_DS_u16LoadData()</a></li>
</ul>
<p>For a detailed description see <a class="el" href="page_datastorage.html">Data Storage</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

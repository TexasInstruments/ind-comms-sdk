<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>IO-Link Master: Data Storage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
     <tr style="height: 40px;">
         <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg" /></a></td>
         <td id="projectalign"><div id="projectname"> IO-Link Master<span id="projectnumber">v2.01.01</span></div></td>
         <td id="projectbrief" align="right"><img src=IOLinkLogoIcon.PNG /></a></td>
         <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page_datastorage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Data Storage</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sect_ds_state"></a>
State Machine</h1>
<p>The Data Storage state machine is implemented according to 11.3 in <a class="el" href="references.html#section_iol_spec_1_1">IO-Link Specification v1.1.2</a>.</p>
<p>This module interacts especially with the application layer and the ISDU channel. During active Data Storage there are no other On-request Data requests allowed. The application layer checks the current state of the Data Storage before it accepts a request from the user application.</p>
<h1><a class="anchor" id="sect_ds_content"></a>
Content</h1>
<p>The structure of the Data Storage content is defined by <a class="el" href="struct_i_o_l_m___s_d_s_content.html" title="This structure defines the Data Storage content.">IOLM_SDSContent</a>. This structure consists of a header with some Device information and the parameter content with up to 2048 bytes. This structure is held in memory for fast access if a new Device is connected.</p>
<h1><a class="anchor" id="sect_ds_interface"></a>
User Interface</h1>
<p>The Data Storage is controlled by <a class="el" href="group__grp__api__ds.html#gaece6ed5b097886adfb31e94abc629473" title="Setup Data Storage mode.">IOLM_API_DS_eSet()</a>. With this function the actual mode is set. Depending on the current activation state (<a class="el" href="group__group__iolm__types.html#gad4bf1ecf463d5fbcc893173899074e56" title="this IOL_ENUM_DECL defines the Data Storage activation states.">IOLM_EDSActivationState</a>) and mode (<a class="el" href="group__group__iolm__types.html#ga5d437476ee8bf76ed7e6e85ceb63bdd5" title="This IOL_ENUM_DECL defines the Data Storage activities which have to be done if there are mismatches ...">IOLM_EDSMode</a>), the interaction between Device and Master is done.</p>
<p>With the function <a class="el" href="group__grp__api__ds.html#ga807393ea6c9454a71fffab21de20c78c" title="Delete Data Storage content.">IOLM_API_DS_eDelete()</a> it is possible to clear the Data Storage if it is enabled. This is only possible if no upload or download is running.</p>
<h1><a class="anchor" id="sect_ds_nonvolatile"></a>
Non Volatile Storage</h1>
<p>It is possible to store the Data Storage content in a non volatile memory. The user application has to provide a non volatile memory access with enough memory for the structure <a class="el" href="struct_i_o_l_m___s_d_s_content.html" title="This structure defines the Data Storage content.">IOLM_SDSContent</a> on each port.</p>
<p>During startup the content is loaded by <a class="el" href="group__grp__api__port.html#gac94e30c44d5d0caf171ac3868cd9425b" title="Load DS content.">IOLM_Port_DS_u16LoadData</a> and stored in the internal RAM.</p>
<p>Every time the content has changed, the function <a class="el" href="group__grp__api__port.html#ga91522102260c71e91f91fa95e002bcd2" title="Store DS content.">IOLM_Port_DS_vStoreData</a> is called by this module. The application should not be blocked for longer times and can handle this store request out of this function. If the storage is completed, the function <a class="el" href="group__grp__api__port.html#ga9bcf960a4f98e3cf6177f9667db6a8f1" title="None volatile store completed.">IOLM_API_DS_vStoreComplete</a> with the actual written size has to be called. This module requests only one store request for all ports. If there is data on multiple ports available, the requests are queued and executed if the last store is acknowledged. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
